{"version":3,"sources":["lib/jScrollPane/script/jquery.jscrollpane.js"],"names":["factory","define","amd","exports","module","require","jQuery","$","fn","jScrollPane","settings","JScrollPane","elem","s","jsp","pane","paneWidth","paneHeight","container","contentWidth","contentHeight","percentInViewH","percentInViewV","isScrollableV","isScrollableH","verticalDrag","dragMaxY","verticalDragPosition","horizontalDrag","dragMaxX","horizontalDragPosition","verticalBar","verticalTrack","scrollbarWidth","verticalTrackHeight","verticalDragHeight","arrowUp","arrowDown","horizontalBar","horizontalTrack","horizontalTrackWidth","horizontalDragWidth","arrowLeft","arrowRight","reinitialiseInterval","originalPadding","originalPaddingTotalWidth","previousContentWidth","wasAtTop","wasAtLeft","wasAtBottom","wasAtRight","originalElement","clone","empty","mwEvent","mwheelIntent","css","parseInt","initialise","isMaintainingPositon","lastContentX","lastContentY","hasContainingSpaceChanged","originalScrollTop","originalScrollLeft","newPaneWidth","newPaneHeight","maintainAtBottom","maintainAtRight","undefined","scrollTop","scrollLeft","overflow","padding","innerWidth","innerHeight","width","append","children","appendTo","height","stickToBottom","isCloseToBottom","stickToRight","isCloseToRight","outerHeight","find","remove","end","scrollWidth","scrollHeight","alwaysShowVScroll","alwaysShowHScroll","removeClass","top","left","removeMousewheel","removeFocusHandler","removeKeyboardNav","removeClickOnTrack","addClass","maintainPosition","contentPositionX","contentPositionY","initialiseVerticalScroll","initialiseHorizontalScroll","resizeScrollbars","scrollToX","scrollToY","initFocusHandler","initMousewheel","initTouch","enableKeyboardNavigation","initKeyboardNav","clickOnTrack","initClickOnTrack","observeHash","hijackInternalLinks","autoReinitialise","setInterval","autoReinitialiseDelay","clearInterval","trigger","showArrows","on","getArrowScroll","nil","arrowScrollOnHover","appendArrows","verticalArrowPositions","each","e","startY","pageY","position","positionDragY","cancelDrag","sizeVerticalScrollbar","verticalGutter","outerWidth","err","horizontalArrowPositions","startX","pageX","positionDragX","sizeHorizontalScrollbar","horizontalTrackHeight","verticalTrackWidth","parent","Math","ceil","horizontalDragMaxWidth","horizontalDragMinWidth","_positionDragX","verticalDragMaxHeight","verticalDragMinHeight","_positionDragY","ele","p","a1","a2","p1","p2","aTemp","test","navigator","platform","dirX","dirY","arrowScroll","blur","arrow","eve","scrollTimeout","isFirst","doScroll","scrollByX","arrowButtonSpeed","scrollByY","setTimeout","initialDelay","arrowRepeatFreq","clearTimeout","off","originalTarget","currentTarget","clickedTrack","offset","direction","pos","contentDragY","scrollPagePercent","dragY","cancelClick","trackClickRepeatFreq","document","contentDragX","dragX","destY","animate","willScrollYEvent","Event","isDefaultPrevented","tmpVerticalDragPosition","isAtTop","isAtBottom","percentScrolled","destTop","animateScroll","updateVerticalArrows","destX","willScrollXEvent","tmpHorizontalDragPosition","isAtLeft","isAtRight","destLeft","updateHorizontalArrows","scrollToElement","stickToTop","eleHeight","eleWidth","eleTop","eleLeft","viewportTop","viewportLeft","maxVisibleEleTop","maxVisibleEleLeft","is","offsetParent","nodeName","horizontalGutter","isNaN","scrollableHeight","scrollableWidth","event","delta","deltaX","deltaY","dX","dY","factor","deltaFactor","mouseWheelSpeed","scrollBy","target","keyDown","elementHasScrolled","validParents","push","focus","attr","length","closest","keyCode","keyDownHandler","hideFocus","keyboardSpeed","removeAttr","location","hash","retryInt","escape","substr","body","data","delegate","href","indexOf","locationHref","element","elementTop","scrollIntoView","window","preventDefault","touchStartX","touchStartY","moved","moving","touch","originalEvent","touches","ev","touchPos","scrollTo","abs","destroy","currentY","currentX","replaceWith","extend","reinitialise","scrollToPercentX","destPercentX","scrollToPercentY","destPercentY","x","y","prop","value","stepCallback","completeCallback","params","animateDuration","animateEase","getContentPositionX","getContentPositionY","getContentWidth","getContentHeight","getPercentScrolledX","getPercentScrolledY","getIsScrollableH","getIsScrollableV","getContentPane","scrollToBottom","noop","defaults","speed","jspApi","filter","trackClickSpeed"],"mappings":"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","file":"jquery.jscrollpane.js","sourcesContent":["/*!\n * jScrollPane - v2.1.3 - 2018-04-04\n * http://jscrollpane.kelvinluck.com/\n *\n * Copyright (c) 2014 Kelvin Luck\n * Copyright (c) 2017-2018 Tuukka Pasanen\n * Dual licensed under the MIT or GPL licenses.\n */\n\n// Script: jScrollPane - cross browser customisable scrollbars\n//\n// *Version: 2.1.3, Last updated: 2018-04-04*\n//\n// Project Home - http://jscrollpane.kelvinluck.com/\n// GitHub       - http://github.com/vitch/jScrollPane\n// Source       - http://github.com/vitch/jScrollPane/raw/master/script/jquery.jscrollpane.js\n// (Minified)   - http://github.com/vitch/jScrollPane/raw/master/script/jquery.jscrollpane.min.js\n//\n// About: License\n//\n// Copyright (c) 2017 Kelvin Luck\n// Copyright (c) 2017-2018 Tuukka Pasanen\n// Dual licensed under the MIT or GPL Version 2 licenses.\n// http://jscrollpane.kelvinluck.com/MIT-LICENSE.txt\n// http://jscrollpane.kelvinluck.com/GPL-LICENSE.txt\n//\n// About: Examples\n//\n// All examples and demos are available through the jScrollPane example site at:\n// http://jscrollpane.kelvinluck.com/\n//\n// About: Support and Testing\n//\n// This plugin is tested on the browsers below and has been found to work reliably on them. If you run\n// into a problem on one of the supported browsers then please visit the support section on the jScrollPane\n// website (http://jscrollpane.kelvinluck.com/) for more information on getting support. You are also\n// welcome to fork the project on GitHub if you can contribute a fix for a given issue.\n//\n// jQuery Versions - jQuery 3.x. Although script should work from jQuery 1.1 and up but no promises are made.\n// Browsers Tested - See jQuery browser support page: https://jquery.com/browser-support/. Only modern\n//                   browsers are supported.\n//\n// About: Release History\n//\n// 2.1.3       - (2018-04-04) No changes from Release Candidate 2 so making release\n// 2.1.3-rc.2  - (2018-03-13) Now using 'script/jquery.jscrollpane.min.js' main\n//                            in package.json rather than 'Gruntfile.js'\n// 2.1.3-rc.1  - (2018-03-05) Moving Gruntfile.js to root and example HTML\n//                            to subdirectory examples\n// 2.1.2       - (2018-02-16) Just on console.log remove and Release!\n//                            This version should play nicely with NPM\n// 2.1.2-rc.2  - (2018-02-03) Update package.json main-tag\n// 2.1.2-rc.1  - (2018-01-18) Release on NPM.\n// 2.1.1       - (2018-01-12) As everyone stays silent then we just release! No changes from RC.1\n// 2.1.1-rc.1  - (2017-12-23) Started to slowly merge stuff (HO HO HO Merry Christmas!)\n//             * Merged\n//             - #349 - ScrollPane reinitialization should adapt to changed container size\n//             - #335 Set drag bar width/height with .css instead of .width/.height\n//             - #297 added two settings: always show HScroll and VScroll\n//             * Bugs\n//             - #8 Make it possible to tell a scrollbar to be \"always on\"\n// 2.1.0  - (2017-12-16) Update jQuery to version 3.x\n// 2.0.23 - (2016-01-28) Various\n// 2.0.22 - (2015-04-25) Resolve a memory leak due to an event handler that isn't cleaned up in destroy (thanks @timjnh)\n// 2.0.21 - (2015-02-24) Simplify UMD pattern: fixes browserify when loading jQuery outside of bundle\n// 2.0.20 - (2014-10-23) Adds AMD support (thanks @carlosrberto) and support for overflow-x/overflow-y (thanks @darimpulso)\n// 2.0.19 - (2013-11-16) Changes for more reliable scroll amount with latest mousewheel plugin (thanks @brandonaaron)\n// 2.0.18 - (2013-10-23) Fix for issue with gutters and scrollToElement (thanks @Dubiy)\n// 2.0.17 - (2013-08-17) Working correctly when box-sizing is set to border-box (thanks @pieht)\n// 2.0.16 - (2013-07-30) Resetting left position when scroll is removed. Fixes #189\n// 2.0.15 - (2013-07-29) Fixed issue with scrollToElement where the destX and destY are undefined.\n// 2.0.14 - (2013-05-01) Updated to most recent mouse wheel plugin (see #106) and related changes for sensible scroll speed\n// 2.0.13 - (2013-05-01) Switched to semver compatible version name\n\n(function (factory) {\n  if ( typeof define === 'function' && define.amd ) {\n      // AMD. Register as an anonymous module.\n      define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n      // Node/CommonJS style for Browserify\n      module.exports = factory(require('jquery'));\n  } else {\n      // Browser globals\n      factory(jQuery);\n  }\n}(function($){\n\n\t$.fn.jScrollPane = function(settings)\n\t{\n\t\t// JScrollPane \"class\" - public methods are available through $('selector').data('jsp')\n\t\tfunction JScrollPane(elem, s)\n\t\t{\n\t\t\tvar settings, jsp = this, pane, paneWidth, paneHeight, container, contentWidth, contentHeight,\n\t\t\t\tpercentInViewH, percentInViewV, isScrollableV, isScrollableH, verticalDrag, dragMaxY,\n\t\t\t\tverticalDragPosition, horizontalDrag, dragMaxX, horizontalDragPosition,\n\t\t\t\tverticalBar, verticalTrack, scrollbarWidth, verticalTrackHeight, verticalDragHeight, arrowUp, arrowDown,\n\t\t\t\thorizontalBar, horizontalTrack, horizontalTrackWidth, horizontalDragWidth, arrowLeft, arrowRight,\n\t\t\t\treinitialiseInterval, originalPadding, originalPaddingTotalWidth, previousContentWidth,\n\t\t\t\twasAtTop = true, wasAtLeft = true, wasAtBottom = false, wasAtRight = false,\n\t\t\t\toriginalElement = elem.clone(false, false).empty(),\n\t\t\t\tmwEvent = $.fn.mwheelIntent ? 'mwheelIntent.jsp' : 'mousewheel.jsp';\n\n\t\t\tif (elem.css('box-sizing') === 'border-box') {\n\t\t\t\toriginalPadding = 0;\n\t\t\t\toriginalPaddingTotalWidth = 0;\n\t\t\t} else {\n\t\t\t\toriginalPadding = elem.css('paddingTop') + ' ' +\n\t\t\t\t\t\t\t\t\telem.css('paddingRight') + ' ' +\n\t\t\t\t\t\t\t\t\telem.css('paddingBottom') + ' ' +\n\t\t\t\t\t\t\t\t\telem.css('paddingLeft');\n\t\t\t\toriginalPaddingTotalWidth = (parseInt(elem.css('paddingLeft'), 10) || 0) +\n\t\t\t\t\t\t\t\t\t\t\t(parseInt(elem.css('paddingRight'), 10) || 0);\n\t\t\t}\n\n\t\t\tfunction initialise(s)\n\t\t\t{\n\n\t\t\t\tvar /*firstChild, lastChild, */isMaintainingPositon, lastContentX, lastContentY,\n\t\t\t\t\t\thasContainingSpaceChanged, originalScrollTop, originalScrollLeft,\n\t\t\t\t\t\tnewPaneWidth, newPaneHeight, maintainAtBottom = false, maintainAtRight = false;\n\n\t\t\t\tsettings = s;\n\n\t\t\t\tif (pane === undefined) {\n\t\t\t\t\toriginalScrollTop = elem.scrollTop();\n\t\t\t\t\toriginalScrollLeft = elem.scrollLeft();\n\n\t\t\t\t\telem.css(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\tpadding: 0\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\t// TODO: Deal with where width/ height is 0 as it probably means the element is hidden and we should\n\t\t\t\t\t// come back to it later and check once it is unhidden...\n\t\t\t\t\tpaneWidth = elem.innerWidth() + originalPaddingTotalWidth;\n\t\t\t\t\tpaneHeight = elem.innerHeight();\n\n\t\t\t\t\telem.width(paneWidth);\n\n\t\t\t\t\tpane = $('<div class=\"jspPane\" />').css('padding', originalPadding).append(elem.children());\n\t\t\t\t\tcontainer = $('<div class=\"jspContainer\" />')\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\t'width': paneWidth + 'px',\n\t\t\t\t\t\t\t'height': paneHeight + 'px'\n\t\t\t\t\t\t}\n\t\t\t\t\t).append(pane).appendTo(elem);\n\n\t\t\t\t\t/*\n\t\t\t\t\t// Move any margins from the first and last children up to the container so they can still\n\t\t\t\t\t// collapse with neighbouring elements as they would before jScrollPane\n\t\t\t\t\tfirstChild = pane.find(':first-child');\n\t\t\t\t\tlastChild = pane.find(':last-child');\n\t\t\t\t\telem.css(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'margin-top': firstChild.css('margin-top'),\n\t\t\t\t\t\t\t'margin-bottom': lastChild.css('margin-bottom')\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tfirstChild.css('margin-top', 0);\n\t\t\t\t\tlastChild.css('margin-bottom', 0);\n\t\t\t\t\t*/\n\t\t\t\t} else {\n\t\t\t\t\telem.css('width', '');\n\n\t\t\t\t\t// To measure the required dimensions accurately, temporarily override the CSS positioning\n\t\t\t\t\t// of the container and pane.\n\t\t\t\t\tcontainer.css({width: 'auto', height: 'auto'});\n\t\t\t\t\tpane.css('position', 'static');\n\n\t\t\t\t\tnewPaneWidth = elem.innerWidth() + originalPaddingTotalWidth;\n\t\t\t\t\tnewPaneHeight = elem.innerHeight();\n\t\t\t\t\tpane.css('position', 'absolute');\n\n\t\t\t\t\tmaintainAtBottom = settings.stickToBottom && isCloseToBottom();\n\t\t\t\t\tmaintainAtRight  = settings.stickToRight  && isCloseToRight();\n\n\t\t\t\t\thasContainingSpaceChanged = newPaneWidth !== paneWidth || newPaneHeight !== paneHeight;\n\n\t\t\t\t\tpaneWidth = newPaneWidth;\n\t\t\t\t\tpaneHeight = newPaneHeight;\n\t\t\t\t\tcontainer.css({width: paneWidth, height: paneHeight});\n\n\t\t\t\t\t// If nothing changed since last check...\n\t\t\t\t\tif (!hasContainingSpaceChanged && previousContentWidth == contentWidth && pane.outerHeight() == contentHeight) {\n\t\t\t\t\t\telem.width(paneWidth);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tpreviousContentWidth = contentWidth;\n\n\t\t\t\t\tpane.css('width', '');\n\t\t\t\t\telem.width(paneWidth);\n\n\t\t\t\t\tcontainer.find('>.jspVerticalBar,>.jspHorizontalBar').remove().end();\n\t\t\t\t}\n\n\t\t\t\tpane.css('overflow', 'auto');\n\t\t\t\tif (s.contentWidth) {\n\t\t\t\t\tcontentWidth = s.contentWidth;\n\t\t\t\t} else {\n\t\t\t\t\tcontentWidth = pane[0].scrollWidth;\n\t\t\t\t}\n\t\t\t\tcontentHeight = pane[0].scrollHeight;\n\t\t\t\tpane.css('overflow', '');\n\n\t\t\t\tpercentInViewH = contentWidth / paneWidth;\n\t\t\t\tpercentInViewV = contentHeight / paneHeight;\n\t\t\t\tisScrollableV = percentInViewV > 1 || settings.alwaysShowVScroll;\n\t\t\t\tisScrollableH = percentInViewH > 1 || settings.alwaysShowHScroll;\n\n\t\t\t\tif (!(isScrollableH || isScrollableV)) {\n\t\t\t\t\telem.removeClass('jspScrollable');\n\t\t\t\t\tpane.css({\n            top: 0,\n            left: 0,\n\t\t\t\t\t\twidth: container.width() - originalPaddingTotalWidth\n\t\t\t\t\t});\n\t\t\t\t\tremoveMousewheel();\n\t\t\t\t\tremoveFocusHandler();\n\t\t\t\t\tremoveKeyboardNav();\n\t\t\t\t\tremoveClickOnTrack();\n\t\t\t\t} else {\n\t\t\t\t\telem.addClass('jspScrollable');\n\n\t\t\t\t\tisMaintainingPositon = settings.maintainPosition && (verticalDragPosition || horizontalDragPosition);\n\t\t\t\t\tif (isMaintainingPositon) {\n\t\t\t\t\t\tlastContentX = contentPositionX();\n\t\t\t\t\t\tlastContentY = contentPositionY();\n\t\t\t\t\t}\n\n\t\t\t\t\tinitialiseVerticalScroll();\n\t\t\t\t\tinitialiseHorizontalScroll();\n\t\t\t\t\tresizeScrollbars();\n\n\t\t\t\t\tif (isMaintainingPositon) {\n\t\t\t\t\t\tscrollToX(maintainAtRight  ? (contentWidth  - paneWidth ) : lastContentX, false);\n\t\t\t\t\t\tscrollToY(maintainAtBottom ? (contentHeight - paneHeight) : lastContentY, false);\n\t\t\t\t\t}\n\n\t\t\t\t\tinitFocusHandler();\n\t\t\t\t\tinitMousewheel();\n\t\t\t\t\tinitTouch();\n\n\t\t\t\t\tif (settings.enableKeyboardNavigation) {\n\t\t\t\t\t\tinitKeyboardNav();\n\t\t\t\t\t}\n\t\t\t\t\tif (settings.clickOnTrack) {\n\t\t\t\t\t\tinitClickOnTrack();\n\t\t\t\t\t}\n\n\t\t\t\t\tobserveHash();\n\t\t\t\t\tif (settings.hijackInternalLinks) {\n\t\t\t\t\t\thijackInternalLinks();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (settings.autoReinitialise && !reinitialiseInterval) {\n\t\t\t\t\treinitialiseInterval = setInterval(\n\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tinitialise(settings);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tsettings.autoReinitialiseDelay\n\t\t\t\t\t);\n\t\t\t\t} else if (!settings.autoReinitialise && reinitialiseInterval) {\n\t\t\t\t\tclearInterval(reinitialiseInterval);\n\t\t\t\t}\n\n        if(originalScrollTop && elem.scrollTop(0)) {\n          scrollToY(originalScrollTop, false);\n        }\n\n\t\t\t\tif(originalScrollLeft && elem.scrollLeft(0)) {\n          scrollToX(originalScrollLeft, false);\n        }\n\n\t\t\t\telem.trigger('jsp-initialised', [isScrollableH || isScrollableV]);\n\t\t\t}\n\n\t\t\tfunction initialiseVerticalScroll()\n\t\t\t{\n\t\t\t\tif (isScrollableV) {\n\n\t\t\t\t\tcontainer.append(\n\t\t\t\t\t\t$('<div class=\"jspVerticalBar\" />').append(\n\t\t\t\t\t\t\t$('<div class=\"jspCap jspCapTop\" />'),\n\t\t\t\t\t\t\t$('<div class=\"jspTrack\" />').append(\n\t\t\t\t\t\t\t\t$('<div class=\"jspDrag\" />').append(\n\t\t\t\t\t\t\t\t\t$('<div class=\"jspDragTop\" />'),\n\t\t\t\t\t\t\t\t\t$('<div class=\"jspDragBottom\" />')\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t$('<div class=\"jspCap jspCapBottom\" />')\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\tverticalBar = container.find('>.jspVerticalBar');\n\t\t\t\t\tverticalTrack = verticalBar.find('>.jspTrack');\n\t\t\t\t\tverticalDrag = verticalTrack.find('>.jspDrag');\n\n\t\t\t\t\tif (settings.showArrows) {\n\t\t\t\t\t\tarrowUp = $('<a class=\"jspArrow jspArrowUp\" />').on(\n\t\t\t\t\t\t\t'mousedown.jsp', getArrowScroll(0, -1)\n\t\t\t\t\t\t).on('click.jsp', nil);\n\t\t\t\t\t\tarrowDown = $('<a class=\"jspArrow jspArrowDown\" />').on(\n\t\t\t\t\t\t\t'mousedown.jsp', getArrowScroll(0, 1)\n\t\t\t\t\t\t).on('click.jsp', nil);\n\t\t\t\t\t\tif (settings.arrowScrollOnHover) {\n\t\t\t\t\t\t\tarrowUp.on('mouseover.jsp', getArrowScroll(0, -1, arrowUp));\n\t\t\t\t\t\t\tarrowDown.on('mouseover.jsp', getArrowScroll(0, 1, arrowDown));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tappendArrows(verticalTrack, settings.verticalArrowPositions, arrowUp, arrowDown);\n\t\t\t\t\t}\n\n\t\t\t\t\tverticalTrackHeight = paneHeight;\n\t\t\t\t\tcontainer.find('>.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow').each(\n\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tverticalTrackHeight -= $(this).outerHeight();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\n\t\t\t\t\tverticalDrag.on(\n                                                'mouseenter',\n\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tverticalDrag.addClass('jspHover');\n\t\t\t\t\t\t}\n                                        ).on(\n                                                'mouseleave',\n\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tverticalDrag.removeClass('jspHover');\n\t\t\t\t\t\t}\n\t\t\t\t\t).on(\n\t\t\t\t\t\t'mousedown.jsp',\n\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Stop IE from allowing text selection\n\t\t\t\t\t\t\t$('html').on('dragstart.jsp selectstart.jsp', nil);\n\n\t\t\t\t\t\t\tverticalDrag.addClass('jspActive');\n\n\t\t\t\t\t\t\tvar startY = e.pageY - verticalDrag.position().top;\n\n\t\t\t\t\t\t\t$('html').on(\n\t\t\t\t\t\t\t\t'mousemove.jsp',\n\t\t\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpositionDragY(e.pageY - startY, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t).on('mouseup.jsp mouseleave.jsp', cancelDrag);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\tsizeVerticalScrollbar();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction sizeVerticalScrollbar()\n\t\t\t{\n\t\t\t\tverticalTrack.height(verticalTrackHeight + 'px');\n\t\t\t\tverticalDragPosition = 0;\n\t\t\t\tscrollbarWidth = settings.verticalGutter + verticalTrack.outerWidth();\n\n\t\t\t\t// Make the pane thinner to allow for the vertical scrollbar\n\t\t\t\tpane.width(paneWidth - scrollbarWidth - originalPaddingTotalWidth);\n\n\t\t\t\t// Add margin to the left of the pane if scrollbars are on that side (to position\n\t\t\t\t// the scrollbar on the left or right set it's left or right property in CSS)\n\t\t\t\ttry {\n\t\t\t\t\tif (verticalBar.position().left === 0) {\n\t\t\t\t\t\tpane.css('margin-left', scrollbarWidth + 'px');\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction initialiseHorizontalScroll()\n\t\t\t{\n\t\t\t\tif (isScrollableH) {\n\n\t\t\t\t\tcontainer.append(\n\t\t\t\t\t\t$('<div class=\"jspHorizontalBar\" />').append(\n\t\t\t\t\t\t\t$('<div class=\"jspCap jspCapLeft\" />'),\n\t\t\t\t\t\t\t$('<div class=\"jspTrack\" />').append(\n\t\t\t\t\t\t\t\t$('<div class=\"jspDrag\" />').append(\n\t\t\t\t\t\t\t\t\t$('<div class=\"jspDragLeft\" />'),\n\t\t\t\t\t\t\t\t\t$('<div class=\"jspDragRight\" />')\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t$('<div class=\"jspCap jspCapRight\" />')\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\n\t\t\t\t\thorizontalBar = container.find('>.jspHorizontalBar');\n\t\t\t\t\thorizontalTrack = horizontalBar.find('>.jspTrack');\n\t\t\t\t\thorizontalDrag = horizontalTrack.find('>.jspDrag');\n\n\t\t\t\t\tif (settings.showArrows) {\n\t\t\t\t\t\tarrowLeft = $('<a class=\"jspArrow jspArrowLeft\" />').on(\n\t\t\t\t\t\t\t'mousedown.jsp', getArrowScroll(-1, 0)\n\t\t\t\t\t\t).on('click.jsp', nil);\n\t\t\t\t\t\tarrowRight = $('<a class=\"jspArrow jspArrowRight\" />').on(\n\t\t\t\t\t\t\t'mousedown.jsp', getArrowScroll(1, 0)\n\t\t\t\t\t\t).on('click.jsp', nil);\n\t\t\t\t\t\tif (settings.arrowScrollOnHover) {\n\t\t\t\t\t\t\tarrowLeft.on('mouseover.jsp', getArrowScroll(-1, 0, arrowLeft));\n\t\t\t\t\t\t\tarrowRight.on('mouseover.jsp', getArrowScroll(1, 0, arrowRight));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tappendArrows(horizontalTrack, settings.horizontalArrowPositions, arrowLeft, arrowRight);\n\t\t\t\t\t}\n\n\t\t\t\t\thorizontalDrag.on(\n                                                'mouseenter',\n\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thorizontalDrag.addClass('jspHover');\n\t\t\t\t\t\t}\n                                        ).on(\n                                                'mouseleave',\n\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thorizontalDrag.removeClass('jspHover');\n\t\t\t\t\t\t}\n\t\t\t\t\t).on(\n\t\t\t\t\t\t'mousedown.jsp',\n\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// Stop IE from allowing text selection\n\t\t\t\t\t\t\t$('html').on('dragstart.jsp selectstart.jsp', nil);\n\n\t\t\t\t\t\t\thorizontalDrag.addClass('jspActive');\n\n\t\t\t\t\t\t\tvar startX = e.pageX - horizontalDrag.position().left;\n\n\t\t\t\t\t\t\t$('html').on(\n\t\t\t\t\t\t\t\t'mousemove.jsp',\n\t\t\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tpositionDragX(e.pageX - startX, false);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t).on('mouseup.jsp mouseleave.jsp', cancelDrag);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\thorizontalTrackWidth = container.innerWidth();\n\t\t\t\t\tsizeHorizontalScrollbar();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction sizeHorizontalScrollbar()\n\t\t\t{\n\t\t\t\tcontainer.find('>.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow').each(\n\t\t\t\t\tfunction()\n\t\t\t\t\t{\n\t\t\t\t\t\thorizontalTrackWidth -= $(this).outerWidth();\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\thorizontalTrack.width(horizontalTrackWidth + 'px');\n\t\t\t\thorizontalDragPosition = 0;\n\t\t\t}\n\n\t\t\tfunction resizeScrollbars()\n\t\t\t{\n\t\t\t\tif (isScrollableH && isScrollableV) {\n\t\t\t\t\tvar horizontalTrackHeight = horizontalTrack.outerHeight(),\n\t\t\t\t\t\tverticalTrackWidth = verticalTrack.outerWidth();\n\t\t\t\t\tverticalTrackHeight -= horizontalTrackHeight;\n\t\t\t\t\t$(horizontalBar).find('>.jspCap:visible,>.jspArrow').each(\n\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\thorizontalTrackWidth += $(this).outerWidth();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\thorizontalTrackWidth -= verticalTrackWidth;\n\t\t\t\t\tpaneHeight -= verticalTrackWidth;\n\t\t\t\t\tpaneWidth -= horizontalTrackHeight;\n\t\t\t\t\thorizontalTrack.parent().append(\n\t\t\t\t\t\t$('<div class=\"jspCorner\" />').css('width', horizontalTrackHeight + 'px')\n\t\t\t\t\t);\n\t\t\t\t\tsizeVerticalScrollbar();\n\t\t\t\t\tsizeHorizontalScrollbar();\n\t\t\t\t}\n\t\t\t\t// reflow content\n\t\t\t\tif (isScrollableH) {\n\t\t\t\t\tpane.width((container.outerWidth() - originalPaddingTotalWidth) + 'px');\n\t\t\t\t}\n\t\t\t\tcontentHeight = pane.outerHeight();\n\t\t\t\tpercentInViewV = contentHeight / paneHeight;\n\n\t\t\t\tif (isScrollableH) {\n\t\t\t\t\thorizontalDragWidth = Math.ceil(1 / percentInViewH * horizontalTrackWidth);\n\t\t\t\t\tif (horizontalDragWidth > settings.horizontalDragMaxWidth) {\n\t\t\t\t\t\thorizontalDragWidth = settings.horizontalDragMaxWidth;\n\t\t\t\t\t} else if (horizontalDragWidth < settings.horizontalDragMinWidth) {\n\t\t\t\t\t\thorizontalDragWidth = settings.horizontalDragMinWidth;\n\t\t\t\t\t}\n\t\t\t\t\thorizontalDrag.css('width', horizontalDragWidth + 'px');\n\t\t\t\t\tdragMaxX = horizontalTrackWidth - horizontalDragWidth;\n\t\t\t\t\t_positionDragX(horizontalDragPosition); // To update the state for the arrow buttons\n\t\t\t\t}\n\t\t\t\tif (isScrollableV) {\n\t\t\t\t\tverticalDragHeight = Math.ceil(1 / percentInViewV * verticalTrackHeight);\n\t\t\t\t\tif (verticalDragHeight > settings.verticalDragMaxHeight) {\n\t\t\t\t\t\tverticalDragHeight = settings.verticalDragMaxHeight;\n\t\t\t\t\t} else if (verticalDragHeight < settings.verticalDragMinHeight) {\n\t\t\t\t\t\tverticalDragHeight = settings.verticalDragMinHeight;\n\t\t\t\t\t}\n\t\t\t\t\tverticalDrag.css('height', verticalDragHeight + 'px');\n\t\t\t\t\tdragMaxY = verticalTrackHeight - verticalDragHeight;\n\t\t\t\t\t_positionDragY(verticalDragPosition); // To update the state for the arrow buttons\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction appendArrows(ele, p, a1, a2)\n\t\t\t{\n\t\t\t\tvar p1 = 'before', p2 = 'after', aTemp;\n\n\t\t\t\t// Sniff for mac... Is there a better way to determine whether the arrows would naturally appear\n\t\t\t\t// at the top or the bottom of the bar?\n\t\t\t\tif (p == 'os') {\n\t\t\t\t\tp = /Mac/.test(navigator.platform) ? 'after' : 'split';\n\t\t\t\t}\n\t\t\t\tif (p == p1) {\n\t\t\t\t\tp2 = p;\n\t\t\t\t} else if (p == p2) {\n\t\t\t\t\tp1 = p;\n\t\t\t\t\taTemp = a1;\n\t\t\t\t\ta1 = a2;\n\t\t\t\t\ta2 = aTemp;\n\t\t\t\t}\n\n\t\t\t\tele[p1](a1)[p2](a2);\n\t\t\t}\n\n\t\t\tfunction getArrowScroll(dirX, dirY, ele)\n\t\t\t{\n\t\t\t\treturn function()\n\t\t\t\t{\n\t\t\t\t\tarrowScroll(dirX, dirY, this, ele);\n\t\t\t\t\tthis.blur();\n\t\t\t\t\treturn false;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfunction arrowScroll(dirX, dirY, arrow, ele)\n\t\t\t{\n\t\t\t\tarrow = $(arrow).addClass('jspActive');\n\n\t\t\t\tvar eve,\n\t\t\t\t\tscrollTimeout,\n\t\t\t\t\tisFirst = true,\n\t\t\t\t\tdoScroll = function()\n\t\t\t\t\t{\n\t\t\t\t\t\tif (dirX !== 0) {\n\t\t\t\t\t\t\tjsp.scrollByX(dirX * settings.arrowButtonSpeed);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (dirY !== 0) {\n\t\t\t\t\t\t\tjsp.scrollByY(dirY * settings.arrowButtonSpeed);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tscrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.arrowRepeatFreq);\n\t\t\t\t\t\tisFirst = false;\n\t\t\t\t\t};\n\n\t\t\t\tdoScroll();\n\n\t\t\t\teve = ele ? 'mouseout.jsp' : 'mouseup.jsp';\n\t\t\t\tele = ele || $('html');\n\t\t\t\tele.on(\n\t\t\t\t\teve,\n\t\t\t\t\tfunction()\n\t\t\t\t\t{\n\t\t\t\t\t\tarrow.removeClass('jspActive');\n\t\t\t\t\t\tif(scrollTimeout) {\n              clearTimeout(scrollTimeout);\n            }\n\t\t\t\t\t\tscrollTimeout = null;\n\t\t\t\t\t\tele.off(eve);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfunction initClickOnTrack()\n\t\t\t{\n\t\t\t\tremoveClickOnTrack();\n\t\t\t\tif (isScrollableV) {\n\t\t\t\t\tverticalTrack.on(\n\t\t\t\t\t\t'mousedown.jsp',\n\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (e.originalTarget === undefined || e.originalTarget == e.currentTarget) {\n\t\t\t\t\t\t\t\tvar clickedTrack = $(this),\n\t\t\t\t\t\t\t\t\toffset = clickedTrack.offset(),\n\t\t\t\t\t\t\t\t\tdirection = e.pageY - offset.top - verticalDragPosition,\n\t\t\t\t\t\t\t\t\tscrollTimeout,\n\t\t\t\t\t\t\t\t\tisFirst = true,\n\t\t\t\t\t\t\t\t\tdoScroll = function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvar offset = clickedTrack.offset(),\n\t\t\t\t\t\t\t\t\t\t\tpos = e.pageY - offset.top - verticalDragHeight / 2,\n\t\t\t\t\t\t\t\t\t\t\tcontentDragY = paneHeight * settings.scrollPagePercent,\n\t\t\t\t\t\t\t\t\t\t\tdragY = dragMaxY * contentDragY / (contentHeight - paneHeight);\n\t\t\t\t\t\t\t\t\t\tif (direction < 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (verticalDragPosition - dragY > pos) {\n\t\t\t\t\t\t\t\t\t\t\t\tjsp.scrollByY(-contentDragY);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tpositionDragY(pos);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if (direction > 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (verticalDragPosition + dragY < pos) {\n\t\t\t\t\t\t\t\t\t\t\t\tjsp.scrollByY(contentDragY);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tpositionDragY(pos);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tcancelClick();\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tscrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.trackClickRepeatFreq);\n\t\t\t\t\t\t\t\t\t\tisFirst = false;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcancelClick = function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif(scrollTimeout) {\n                      clearTimeout(scrollTimeout);\n                    }\n\t\t\t\t\t\t\t\t\t\tscrollTimeout = null;\n\t\t\t\t\t\t\t\t\t\t$(document).off('mouseup.jsp', cancelClick);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tdoScroll();\n\t\t\t\t\t\t\t\t$(document).on('mouseup.jsp', cancelClick);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (isScrollableH) {\n\t\t\t\t\thorizontalTrack.on(\n\t\t\t\t\t\t'mousedown.jsp',\n\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (e.originalTarget === undefined || e.originalTarget == e.currentTarget) {\n\t\t\t\t\t\t\t\tvar clickedTrack = $(this),\n\t\t\t\t\t\t\t\t\toffset = clickedTrack.offset(),\n\t\t\t\t\t\t\t\t\tdirection = e.pageX - offset.left - horizontalDragPosition,\n\t\t\t\t\t\t\t\t\tscrollTimeout,\n\t\t\t\t\t\t\t\t\tisFirst = true,\n\t\t\t\t\t\t\t\t\tdoScroll = function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvar offset = clickedTrack.offset(),\n\t\t\t\t\t\t\t\t\t\t\tpos = e.pageX - offset.left - horizontalDragWidth / 2,\n\t\t\t\t\t\t\t\t\t\t\tcontentDragX = paneWidth * settings.scrollPagePercent,\n\t\t\t\t\t\t\t\t\t\t\tdragX = dragMaxX * contentDragX / (contentWidth - paneWidth);\n\t\t\t\t\t\t\t\t\t\tif (direction < 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (horizontalDragPosition - dragX > pos) {\n\t\t\t\t\t\t\t\t\t\t\t\tjsp.scrollByX(-contentDragX);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tpositionDragX(pos);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else if (direction > 0) {\n\t\t\t\t\t\t\t\t\t\t\tif (horizontalDragPosition + dragX < pos) {\n\t\t\t\t\t\t\t\t\t\t\t\tjsp.scrollByX(contentDragX);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\tpositionDragX(pos);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tcancelClick();\n\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tscrollTimeout = setTimeout(doScroll, isFirst ? settings.initialDelay : settings.trackClickRepeatFreq);\n\t\t\t\t\t\t\t\t\t\tisFirst = false;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tcancelClick = function()\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tif(scrollTimeout) {\n                      clearTimeout(scrollTimeout);\n                    }\n\t\t\t\t\t\t\t\t\t\tscrollTimeout = null;\n\t\t\t\t\t\t\t\t\t\t$(document).off('mouseup.jsp', cancelClick);\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tdoScroll();\n\t\t\t\t\t\t\t\t$(document).on('mouseup.jsp', cancelClick);\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction removeClickOnTrack()\n\t\t\t{\n\t\t\t\tif (horizontalTrack) {\n\t\t\t\t\thorizontalTrack.off('mousedown.jsp');\n\t\t\t\t}\n\t\t\t\tif (verticalTrack) {\n\t\t\t\t\tverticalTrack.off('mousedown.jsp');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction cancelDrag()\n\t\t\t{\n\t\t\t\t$('html').off('dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp');\n\n\t\t\t\tif (verticalDrag) {\n\t\t\t\t\tverticalDrag.removeClass('jspActive');\n\t\t\t\t}\n\t\t\t\tif (horizontalDrag) {\n\t\t\t\t\thorizontalDrag.removeClass('jspActive');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction positionDragY(destY, animate)\n\t\t\t{\n\t\t\t\tif (!isScrollableV) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (destY < 0) {\n\t\t\t\t\tdestY = 0;\n\t\t\t\t} else if (destY > dragMaxY) {\n\t\t\t\t\tdestY = dragMaxY;\n\t\t\t\t}\n\n\t\t\t\t// allow for devs to prevent the JSP from being scrolled\n\t\t\t\tvar willScrollYEvent = new $.Event('jsp-will-scroll-y');\n\t\t\t\telem.trigger(willScrollYEvent, [destY]);\n\n\t\t\t\tif (willScrollYEvent.isDefaultPrevented()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar tmpVerticalDragPosition = destY || 0;\n\n\t\t\t\tvar isAtTop = tmpVerticalDragPosition === 0,\n\t\t\t\t\tisAtBottom = tmpVerticalDragPosition == dragMaxY,\n\t\t\t\t\tpercentScrolled = destY/ dragMaxY,\n\t\t\t\t\tdestTop = -percentScrolled * (contentHeight - paneHeight);\n\n\t\t\t\t// can't just check if(animate) because false is a valid value that could be passed in...\n\t\t\t\tif (animate === undefined) {\n\t\t\t\t\tanimate = settings.animateScroll;\n\t\t\t\t}\n\t\t\t\tif (animate) {\n\t\t\t\t\tjsp.animate(verticalDrag, 'top', destY,\t_positionDragY, function() {\n\t\t\t\t\t\telem.trigger('jsp-user-scroll-y', [-destTop, isAtTop, isAtBottom]);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tverticalDrag.css('top', destY);\n\t\t\t\t\t_positionDragY(destY);\n\t\t\t\t\telem.trigger('jsp-user-scroll-y', [-destTop, isAtTop, isAtBottom]);\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction _positionDragY(destY)\n\t\t\t{\n\t\t\t\tif (destY === undefined) {\n\t\t\t\t\tdestY = verticalDrag.position().top;\n\t\t\t\t}\n\n\t\t\t\tcontainer.scrollTop(0);\n\t\t\t\tverticalDragPosition = destY || 0;\n\n\t\t\t\tvar isAtTop = verticalDragPosition === 0,\n\t\t\t\t\tisAtBottom = verticalDragPosition == dragMaxY,\n\t\t\t\t\tpercentScrolled = destY/ dragMaxY,\n\t\t\t\t\tdestTop = -percentScrolled * (contentHeight - paneHeight);\n\n\t\t\t\tif (wasAtTop != isAtTop || wasAtBottom != isAtBottom) {\n\t\t\t\t\twasAtTop = isAtTop;\n\t\t\t\t\twasAtBottom = isAtBottom;\n\t\t\t\t\telem.trigger('jsp-arrow-change', [wasAtTop, wasAtBottom, wasAtLeft, wasAtRight]);\n\t\t\t\t}\n\n\t\t\t\tupdateVerticalArrows(isAtTop, isAtBottom);\n\t\t\t\tpane.css('top', destTop);\n\t\t\t\telem.trigger('jsp-scroll-y', [-destTop, isAtTop, isAtBottom]).trigger('scroll');\n\t\t\t}\n\n\t\t\tfunction positionDragX(destX, animate)\n\t\t\t{\n\t\t\t\tif (!isScrollableH) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (destX < 0) {\n\t\t\t\t\tdestX = 0;\n\t\t\t\t} else if (destX > dragMaxX) {\n\t\t\t\t\tdestX = dragMaxX;\n\t\t\t\t}\n\n\n\t\t\t\t// allow for devs to prevent the JSP from being scrolled\n\t\t\t\tvar willScrollXEvent = new $.Event('jsp-will-scroll-x');\n\t\t\t\telem.trigger(willScrollXEvent, [destX]);\n\n\t\t\t\tif (willScrollXEvent.isDefaultPrevented()) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar tmpHorizontalDragPosition = destX ||0;\n\n\t\t\t\tvar isAtLeft = tmpHorizontalDragPosition === 0,\n\t\t\t\t\tisAtRight = tmpHorizontalDragPosition == dragMaxX,\n\t\t\t\t\tpercentScrolled = destX / dragMaxX,\n\t\t\t\t\tdestLeft = -percentScrolled * (contentWidth - paneWidth);\n\n\t\t\t\tif (animate === undefined) {\n\t\t\t\t\tanimate = settings.animateScroll;\n\t\t\t\t}\n\t\t\t\tif (animate) {\n\t\t\t\t\tjsp.animate(horizontalDrag, 'left', destX,\t_positionDragX, function() {\n\t\t\t\t\t\telem.trigger('jsp-user-scroll-x', [-destLeft, isAtLeft, isAtRight]);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\thorizontalDrag.css('left', destX);\n\t\t\t\t\t_positionDragX(destX);\n\t\t\t\t\telem.trigger('jsp-user-scroll-x', [-destLeft, isAtLeft, isAtRight]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction _positionDragX(destX)\n\t\t\t{\n\t\t\t\tif (destX === undefined) {\n\t\t\t\t\tdestX = horizontalDrag.position().left;\n\t\t\t\t}\n\n\t\t\t\tcontainer.scrollTop(0);\n\t\t\t\thorizontalDragPosition = destX ||0;\n\n\t\t\t\tvar isAtLeft = horizontalDragPosition === 0,\n\t\t\t\t\tisAtRight = horizontalDragPosition == dragMaxX,\n\t\t\t\t\tpercentScrolled = destX / dragMaxX,\n\t\t\t\t\tdestLeft = -percentScrolled * (contentWidth - paneWidth);\n\n\t\t\t\tif (wasAtLeft != isAtLeft || wasAtRight != isAtRight) {\n\t\t\t\t\twasAtLeft = isAtLeft;\n\t\t\t\t\twasAtRight = isAtRight;\n\t\t\t\t\telem.trigger('jsp-arrow-change', [wasAtTop, wasAtBottom, wasAtLeft, wasAtRight]);\n\t\t\t\t}\n\n\t\t\t\tupdateHorizontalArrows(isAtLeft, isAtRight);\n\t\t\t\tpane.css('left', destLeft);\n\t\t\t\telem.trigger('jsp-scroll-x', [-destLeft, isAtLeft, isAtRight]).trigger('scroll');\n\t\t\t}\n\n\t\t\tfunction updateVerticalArrows(isAtTop, isAtBottom)\n\t\t\t{\n\t\t\t\tif (settings.showArrows) {\n\t\t\t\t\tarrowUp[isAtTop ? 'addClass' : 'removeClass']('jspDisabled');\n\t\t\t\t\tarrowDown[isAtBottom ? 'addClass' : 'removeClass']('jspDisabled');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction updateHorizontalArrows(isAtLeft, isAtRight)\n\t\t\t{\n\t\t\t\tif (settings.showArrows) {\n\t\t\t\t\tarrowLeft[isAtLeft ? 'addClass' : 'removeClass']('jspDisabled');\n\t\t\t\t\tarrowRight[isAtRight ? 'addClass' : 'removeClass']('jspDisabled');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction scrollToY(destY, animate)\n\t\t\t{\n\t\t\t\tvar percentScrolled = destY / (contentHeight - paneHeight);\n\t\t\t\tpositionDragY(percentScrolled * dragMaxY, animate);\n\t\t\t}\n\n\t\t\tfunction scrollToX(destX, animate)\n\t\t\t{\n\t\t\t\tvar percentScrolled = destX / (contentWidth - paneWidth);\n\t\t\t\tpositionDragX(percentScrolled * dragMaxX, animate);\n\t\t\t}\n\n\t\t\tfunction scrollToElement(ele, stickToTop, animate)\n\t\t\t{\n\t\t\t\tvar e, eleHeight, eleWidth, eleTop = 0, eleLeft = 0, viewportTop, viewportLeft, maxVisibleEleTop, maxVisibleEleLeft, destY, destX;\n\n\t\t\t\t// Legal hash values aren't necessarily legal jQuery selectors so we need to catch any\n\t\t\t\t// errors from the lookup...\n\t\t\t\ttry {\n\t\t\t\t\te = $(ele);\n\t\t\t\t} catch (err) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\teleHeight = e.outerHeight();\n\t\t\t\teleWidth= e.outerWidth();\n\n\t\t\t\tcontainer.scrollTop(0);\n\t\t\t\tcontainer.scrollLeft(0);\n\n\t\t\t\t// loop through parents adding the offset top of any elements that are relatively positioned between\n\t\t\t\t// the focused element and the jspPane so we can get the true distance from the top\n\t\t\t\t// of the focused element to the top of the scrollpane...\n\t\t\t\twhile (!e.is('.jspPane')) {\n\t\t\t\t\teleTop += e.position().top;\n\t\t\t\t\teleLeft += e.position().left;\n\t\t\t\t\te = e.offsetParent();\n\t\t\t\t\tif (/^body|html$/i.test(e[0].nodeName)) {\n\t\t\t\t\t\t// we ended up too high in the document structure. Quit!\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tviewportTop = contentPositionY();\n\t\t\t\tmaxVisibleEleTop = viewportTop + paneHeight;\n\t\t\t\tif (eleTop < viewportTop || stickToTop) { // element is above viewport\n\t\t\t\t\tdestY = eleTop - settings.horizontalGutter;\n\t\t\t\t} else if (eleTop + eleHeight > maxVisibleEleTop) { // element is below viewport\n\t\t\t\t\tdestY = eleTop - paneHeight + eleHeight + settings.horizontalGutter;\n\t\t\t\t}\n\t\t\t\tif (!isNaN(destY)) {\n\t\t\t\t\tscrollToY(destY, animate);\n\t\t\t\t}\n\n\t\t\t\tviewportLeft = contentPositionX();\n\t            maxVisibleEleLeft = viewportLeft + paneWidth;\n\t            if (eleLeft < viewportLeft || stickToTop) { // element is to the left of viewport\n\t                destX = eleLeft - settings.horizontalGutter;\n\t            } else if (eleLeft + eleWidth > maxVisibleEleLeft) { // element is to the right viewport\n\t                destX = eleLeft - paneWidth + eleWidth + settings.horizontalGutter;\n\t            }\n\t            if (!isNaN(destX)) {\n\t                scrollToX(destX, animate);\n\t            }\n\n\t\t\t}\n\n\t\t\tfunction contentPositionX()\n\t\t\t{\n\t\t\t\treturn -pane.position().left;\n\t\t\t}\n\n\t\t\tfunction contentPositionY()\n\t\t\t{\n\t\t\t\treturn -pane.position().top;\n\t\t\t}\n\n\t\t\tfunction isCloseToBottom()\n\t\t\t{\n\t\t\t\tvar scrollableHeight = contentHeight - paneHeight;\n\t\t\t\treturn (scrollableHeight > 20) && (scrollableHeight - contentPositionY() < 10);\n\t\t\t}\n\n\t\t\tfunction isCloseToRight()\n\t\t\t{\n\t\t\t\tvar scrollableWidth = contentWidth - paneWidth;\n\t\t\t\treturn (scrollableWidth > 20) && (scrollableWidth - contentPositionX() < 10);\n\t\t\t}\n\n\t\t\tfunction initMousewheel()\n\t\t\t{\n\t\t\t\tcontainer.off(mwEvent).on(\n\t\t\t\t\tmwEvent,\n\t\t\t\t\tfunction (event, delta, deltaX, deltaY) {\n\n                        if (!horizontalDragPosition) horizontalDragPosition = 0;\n                        if (!verticalDragPosition) verticalDragPosition = 0;\n\n\t\t\t\t\t\tvar dX = horizontalDragPosition, dY = verticalDragPosition, factor = event.deltaFactor || settings.mouseWheelSpeed;\n\t\t\t\t\t\tjsp.scrollBy(deltaX * factor, -deltaY * factor, false);\n\t\t\t\t\t\t// return true if there was no movement so rest of screen can scroll\n\t\t\t\t\t\treturn dX == horizontalDragPosition && dY == verticalDragPosition;\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfunction removeMousewheel()\n\t\t\t{\n\t\t\t\tcontainer.off(mwEvent);\n\t\t\t}\n\n\t\t\tfunction nil()\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tfunction initFocusHandler()\n\t\t\t{\n\t\t\t\tpane.find(':input,a').off('focus.jsp').on(\n\t\t\t\t\t'focus.jsp',\n\t\t\t\t\tfunction(e)\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollToElement(e.target, false);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfunction removeFocusHandler()\n\t\t\t{\n\t\t\t\tpane.find(':input,a').off('focus.jsp');\n\t\t\t}\n\n\t\t\tfunction initKeyboardNav()\n\t\t\t{\n\t\t\t\tvar keyDown, elementHasScrolled, validParents = [];\n\t\t\t\tif(isScrollableH) {\n          validParents.push(horizontalBar[0]);\n        }\n\n\t\t\t\tif(isScrollableV) {\n          validParents.push(verticalBar[0]);\n        }\n\n\t\t\t\t// IE also focuses elements that don't have tabindex set.\n\t\t\t\tpane.on(\n\t\t\t\t\t'focus.jsp',\n\t\t\t\t\tfunction()\n\t\t\t\t\t{\n\t\t\t\t\t\telem.focus();\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\telem.attr('tabindex', 0)\n\t\t\t\t\t.off('keydown.jsp keypress.jsp')\n\t\t\t\t\t.on(\n\t\t\t\t\t\t'keydown.jsp',\n\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (e.target !== this && !(validParents.length && $(e.target).closest(validParents).length)){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar dX = horizontalDragPosition, dY = verticalDragPosition;\n\t\t\t\t\t\t\tswitch(e.keyCode) {\n\t\t\t\t\t\t\t\tcase 40: // down\n\t\t\t\t\t\t\t\tcase 38: // up\n\t\t\t\t\t\t\t\tcase 34: // page down\n\t\t\t\t\t\t\t\tcase 32: // space\n\t\t\t\t\t\t\t\tcase 33: // page up\n\t\t\t\t\t\t\t\tcase 39: // right\n\t\t\t\t\t\t\t\tcase 37: // left\n\t\t\t\t\t\t\t\t\tkeyDown = e.keyCode;\n\t\t\t\t\t\t\t\t\tkeyDownHandler();\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 35: // end\n\t\t\t\t\t\t\t\t\tscrollToY(contentHeight - paneHeight);\n\t\t\t\t\t\t\t\t\tkeyDown = null;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 36: // home\n\t\t\t\t\t\t\t\t\tscrollToY(0);\n\t\t\t\t\t\t\t\t\tkeyDown = null;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\telementHasScrolled = e.keyCode == keyDown && dX != horizontalDragPosition || dY != verticalDragPosition;\n\t\t\t\t\t\t\treturn !elementHasScrolled;\n\t\t\t\t\t\t}\n\t\t\t\t\t).on(\n\t\t\t\t\t\t'keypress.jsp', // For FF/ OSX so that we can cancel the repeat key presses if the JSP scrolls...\n\t\t\t\t\t\tfunction(e)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (e.keyCode == keyDown) {\n\t\t\t\t\t\t\t\tkeyDownHandler();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// If the keypress is not related to the area, ignore it. Fixes problem with inputs inside scrolled area. Copied from line 955.\n\t\t\t\t\t\t\tif (e.target !== this && !(validParents.length && $(e.target).closest(validParents).length)){\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn !elementHasScrolled;\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\tif (settings.hideFocus) {\n\t\t\t\t\telem.css('outline', 'none');\n\t\t\t\t\tif ('hideFocus' in container[0]){\n\t\t\t\t\t\telem.attr('hideFocus', true);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.css('outline', '');\n\t\t\t\t\tif ('hideFocus' in container[0]){\n\t\t\t\t\t\telem.attr('hideFocus', false);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction keyDownHandler()\n\t\t\t\t{\n\t\t\t\t\tvar dX = horizontalDragPosition, dY = verticalDragPosition;\n\t\t\t\t\tswitch(keyDown) {\n\t\t\t\t\t\tcase 40: // down\n\t\t\t\t\t\t\tjsp.scrollByY(settings.keyboardSpeed, false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 38: // up\n\t\t\t\t\t\t\tjsp.scrollByY(-settings.keyboardSpeed, false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 34: // page down\n\t\t\t\t\t\tcase 32: // space\n\t\t\t\t\t\t\tjsp.scrollByY(paneHeight * settings.scrollPagePercent, false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 33: // page up\n\t\t\t\t\t\t\tjsp.scrollByY(-paneHeight * settings.scrollPagePercent, false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 39: // right\n\t\t\t\t\t\t\tjsp.scrollByX(settings.keyboardSpeed, false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 37: // left\n\t\t\t\t\t\t\tjsp.scrollByX(-settings.keyboardSpeed, false);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\telementHasScrolled = dX != horizontalDragPosition || dY != verticalDragPosition;\n\t\t\t\t\treturn elementHasScrolled;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction removeKeyboardNav()\n\t\t\t{\n\t\t\t\telem.attr('tabindex', '-1')\n\t\t\t\t\t.removeAttr('tabindex')\n\t\t\t\t\t.off('keydown.jsp keypress.jsp');\n\n\t\t\t\tpane.off('.jsp');\n\t\t\t}\n\n\t\t\tfunction observeHash()\n\t\t\t{\n\t\t\t\tif (location.hash && location.hash.length > 1) {\n\t\t\t\t\tvar e,\n\t\t\t\t\t\tretryInt,\n\t\t\t\t\t\thash = escape(location.hash.substr(1)) // hash must be escaped to prevent XSS\n\t\t\t\t\t\t;\n\t\t\t\t\ttry {\n\t\t\t\t\t\te = $('#' + hash + ', a[name=\"' + hash + '\"]');\n\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (e.length && pane.find(hash)) {\n\t\t\t\t\t\t// nasty workaround but it appears to take a little while before the hash has done its thing\n\t\t\t\t\t\t// to the rendered page so we just wait until the container's scrollTop has been messed up.\n\t\t\t\t\t\tif (container.scrollTop() === 0) {\n\t\t\t\t\t\t\tretryInt = setInterval(\n\t\t\t\t\t\t\t\tfunction()\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (container.scrollTop() > 0) {\n\t\t\t\t\t\t\t\t\t\tscrollToElement(e, true);\n\t\t\t\t\t\t\t\t\t\t$(document).scrollTop(container.position().top);\n\t\t\t\t\t\t\t\t\t\tclearInterval(retryInt);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t50\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tscrollToElement(e, true);\n\t\t\t\t\t\t\t$(document).scrollTop(container.position().top);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction hijackInternalLinks()\n\t\t\t{\n\t\t\t\t// only register the link handler once\n\t\t\t\tif ($(document.body).data('jspHijack')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// remember that the handler was bound\n\t\t\t\t$(document.body).data('jspHijack', true);\n\n\t\t\t\t// use live handler to also capture newly created links\n\t\t\t\t$(document.body).delegate('a[href*=\"#\"]', 'click', function(event) {\n\t\t\t\t\t// does the link point to the same page?\n\t\t\t\t\t// this also takes care of cases with a <base>-Tag or Links not starting with the hash #\n\t\t\t\t\t// e.g. <a href=\"index.html#test\"> when the current url already is index.html\n\t\t\t\t\tvar href = this.href.substr(0, this.href.indexOf('#')),\n\t\t\t\t\t\tlocationHref = location.href,\n\t\t\t\t\t\thash,\n\t\t\t\t\t\telement,\n\t\t\t\t\t\tcontainer,\n\t\t\t\t\t\tjsp,\n\t\t\t\t\t\tscrollTop,\n\t\t\t\t\t\telementTop;\n\t\t\t\t\tif (location.href.indexOf('#') !== -1) {\n\t\t\t\t\t\tlocationHref = location.href.substr(0, location.href.indexOf('#'));\n\t\t\t\t\t}\n\t\t\t\t\tif (href !== locationHref) {\n\t\t\t\t\t\t// the link points to another page\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if jScrollPane should handle this click event\n\t\t\t\t\thash = escape(this.href.substr(this.href.indexOf('#') + 1));\n\n\t\t\t\t\t// find the element on the page\n\t\t\t\t\ttry {\n\t\t\t\t\t\telement = $('#' + hash + ', a[name=\"' + hash + '\"]');\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t// hash is not a valid jQuery identifier\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!element.length) {\n\t\t\t\t\t\t// this link does not point to an element on this page\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontainer = element.closest('.jspScrollable');\n\t\t\t\t\tjsp = container.data('jsp');\n\n\t\t\t\t\t// jsp might be another jsp instance than the one, that bound this event\n\t\t\t\t\t// remember: this event is only bound once for all instances.\n\t\t\t\t\tjsp.scrollToElement(element, true);\n\n\t\t\t\t\tif (container[0].scrollIntoView) {\n\t\t\t\t\t\t// also scroll to the top of the container (if it is not visible)\n\t\t\t\t\t\tscrollTop = $(window).scrollTop();\n\t\t\t\t\t\telementTop = element.offset().top;\n\t\t\t\t\t\tif (elementTop < scrollTop || elementTop > scrollTop + $(window).height()) {\n\t\t\t\t\t\t\tcontainer[0].scrollIntoView();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// jsp handled this event, prevent the browser default (scrolling :P)\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Init touch on iPad, iPhone, iPod, Android\n\t\t\tfunction initTouch()\n\t\t\t{\n\t\t\t\tvar startX,\n\t\t\t\t\tstartY,\n\t\t\t\t\ttouchStartX,\n\t\t\t\t\ttouchStartY,\n\t\t\t\t\tmoved,\n\t\t\t\t\tmoving = false;\n\n\t\t\t\tcontainer.off('touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick').on(\n\t\t\t\t\t'touchstart.jsp',\n\t\t\t\t\tfunction(e)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar touch = e.originalEvent.touches[0];\n\t\t\t\t\t\tstartX = contentPositionX();\n\t\t\t\t\t\tstartY = contentPositionY();\n\t\t\t\t\t\ttouchStartX = touch.pageX;\n\t\t\t\t\t\ttouchStartY = touch.pageY;\n\t\t\t\t\t\tmoved = false;\n\t\t\t\t\t\tmoving = true;\n\t\t\t\t\t}\n\t\t\t\t).on(\n\t\t\t\t\t'touchmove.jsp',\n\t\t\t\t\tfunction(ev)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(!moving) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar touchPos = ev.originalEvent.touches[0],\n\t\t\t\t\t\t\tdX = horizontalDragPosition, dY = verticalDragPosition;\n\n\t\t\t\t\t\tjsp.scrollTo(startX + touchStartX - touchPos.pageX, startY + touchStartY - touchPos.pageY);\n\n\t\t\t\t\t\tmoved = moved || Math.abs(touchStartX - touchPos.pageX) > 5 || Math.abs(touchStartY - touchPos.pageY) > 5;\n\n\t\t\t\t\t\t// return true if there was no movement so rest of screen can scroll\n\t\t\t\t\t\treturn dX == horizontalDragPosition && dY == verticalDragPosition;\n\t\t\t\t\t}\n\t\t\t\t).on(\n\t\t\t\t\t'touchend.jsp',\n\t\t\t\t\tfunction(e)\n\t\t\t\t\t{\n\t\t\t\t\t\tmoving = false;\n\t\t\t\t\t\t/*if(moved) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}*/\n\t\t\t\t\t}\n\t\t\t\t).on(\n\t\t\t\t\t'click.jsp-touchclick',\n\t\t\t\t\tfunction(e)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(moved) {\n\t\t\t\t\t\t\tmoved = false;\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tfunction destroy(){\n\t\t\t\tvar currentY = contentPositionY(),\n\t\t\t\t\tcurrentX = contentPositionX();\n\t\t\t\telem.removeClass('jspScrollable').off('.jsp');\n\t\t\t\tpane.off('.jsp');\n\t\t\t\telem.replaceWith(originalElement.append(pane.children()));\n\t\t\t\toriginalElement.scrollTop(currentY);\n\t\t\t\toriginalElement.scrollLeft(currentX);\n\n\t\t\t\t// clear reinitialize timer if active\n\t\t\t\tif (reinitialiseInterval) {\n\t\t\t\t\tclearInterval(reinitialiseInterval);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Public API\n\t\t\t$.extend(\n\t\t\t\tjsp,\n\t\t\t\t{\n\t\t\t\t\t// Reinitialises the scroll pane (if it's internal dimensions have changed since the last time it\n\t\t\t\t\t// was initialised). The settings object which is passed in will override any settings from the\n\t\t\t\t\t// previous time it was initialised - if you don't pass any settings then the ones from the previous\n\t\t\t\t\t// initialisation will be used.\n\t\t\t\t\treinitialise: function(s)\n\t\t\t\t\t{\n\t\t\t\t\t\ts = $.extend({}, settings, s);\n\t\t\t\t\t\tinitialise(s);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the specified element (a jQuery object, DOM node or jQuery selector string) into view so\n\t\t\t\t\t// that it can be seen within the viewport. If stickToTop is true then the element will appear at\n\t\t\t\t\t// the top of the viewport, if it is false then the viewport will scroll as little as possible to\n\t\t\t\t\t// show the element. You can also specify if you want animation to occur. If you don't provide this\n\t\t\t\t\t// argument then the animateScroll value from the settings object is used instead.\n\t\t\t\t\tscrollToElement: function(ele, stickToTop, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollToElement(ele, stickToTop, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane so that the specified co-ordinates within the content are at the top left\n\t\t\t\t\t// of the viewport. animate is optional and if not passed then the value of animateScroll from\n\t\t\t\t\t// the settings object this jScrollPane was initialised with is used.\n\t\t\t\t\tscrollTo: function(destX, destY, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollToX(destX, animate);\n\t\t\t\t\t\tscrollToY(destY, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane so that the specified co-ordinate within the content is at the left of the\n\t\t\t\t\t// viewport. animate is optional and if not passed then the value of animateScroll from the settings\n\t\t\t\t\t// object this jScrollPane was initialised with is used.\n\t\t\t\t\tscrollToX: function(destX, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollToX(destX, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane so that the specified co-ordinate within the content is at the top of the\n\t\t\t\t\t// viewport. animate is optional and if not passed then the value of animateScroll from the settings\n\t\t\t\t\t// object this jScrollPane was initialised with is used.\n\t\t\t\t\tscrollToY: function(destY, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollToY(destY, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane to the specified percentage of its maximum horizontal scroll position. animate\n\t\t\t\t\t// is optional and if not passed then the value of animateScroll from the settings object this\n\t\t\t\t\t// jScrollPane was initialised with is used.\n\t\t\t\t\tscrollToPercentX: function(destPercentX, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollToX(destPercentX * (contentWidth - paneWidth), animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane to the specified percentage of its maximum vertical scroll position. animate\n\t\t\t\t\t// is optional and if not passed then the value of animateScroll from the settings object this\n\t\t\t\t\t// jScrollPane was initialised with is used.\n\t\t\t\t\tscrollToPercentY: function(destPercentY, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tscrollToY(destPercentY * (contentHeight - paneHeight), animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane by the specified amount of pixels. animate is optional and if not passed then\n\t\t\t\t\t// the value of animateScroll from the settings object this jScrollPane was initialised with is used.\n\t\t\t\t\tscrollBy: function(deltaX, deltaY, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tjsp.scrollByX(deltaX, animate);\n\t\t\t\t\t\tjsp.scrollByY(deltaY, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane by the specified amount of pixels. animate is optional and if not passed then\n\t\t\t\t\t// the value of animateScroll from the settings object this jScrollPane was initialised with is used.\n\t\t\t\t\tscrollByX: function(deltaX, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar destX = contentPositionX() + Math[deltaX<0 ? 'floor' : 'ceil'](deltaX),\n\t\t\t\t\t\t\tpercentScrolled = destX / (contentWidth - paneWidth);\n\t\t\t\t\t\tpositionDragX(percentScrolled * dragMaxX, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls the pane by the specified amount of pixels. animate is optional and if not passed then\n\t\t\t\t\t// the value of animateScroll from the settings object this jScrollPane was initialised with is used.\n\t\t\t\t\tscrollByY: function(deltaY, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar destY = contentPositionY() + Math[deltaY<0 ? 'floor' : 'ceil'](deltaY),\n\t\t\t\t\t\t\tpercentScrolled = destY / (contentHeight - paneHeight);\n\t\t\t\t\t\tpositionDragY(percentScrolled * dragMaxY, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Positions the horizontal drag at the specified x position (and updates the viewport to reflect\n\t\t\t\t\t// this). animate is optional and if not passed then the value of animateScroll from the settings\n\t\t\t\t\t// object this jScrollPane was initialised with is used.\n\t\t\t\t\tpositionDragX: function(x, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tpositionDragX(x, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Positions the vertical drag at the specified y position (and updates the viewport to reflect\n\t\t\t\t\t// this). animate is optional and if not passed then the value of animateScroll from the settings\n\t\t\t\t\t// object this jScrollPane was initialised with is used.\n\t\t\t\t\tpositionDragY: function(y, animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tpositionDragY(y, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// This method is called when jScrollPane is trying to animate to a new position. You can override\n\t\t\t\t\t// it if you want to provide advanced animation functionality. It is passed the following arguments:\n\t\t\t\t\t//  * ele          - the element whose position is being animated\n\t\t\t\t\t//  * prop         - the property that is being animated\n\t\t\t\t\t//  * value        - the value it's being animated to\n\t\t\t\t\t//  * stepCallback - a function that you must execute each time you update the value of the property\n\t\t\t\t\t//  * completeCallback - a function that will be executed after the animation had finished\n\t\t\t\t\t// You can use the default implementation (below) as a starting point for your own implementation.\n\t\t\t\t\tanimate: function(ele, prop, value, stepCallback, completeCallback)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar params = {};\n\t\t\t\t\t\tparams[prop] = value;\n\t\t\t\t\t\tele.animate(\n\t\t\t\t\t\t\tparams,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t'duration'\t: settings.animateDuration,\n\t\t\t\t\t\t\t\t'easing'\t: settings.animateEase,\n\t\t\t\t\t\t\t\t'queue'\t\t: false,\n\t\t\t\t\t\t\t\t'step'\t\t: stepCallback,\n\t\t\t\t\t\t\t\t'complete'\t: completeCallback\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t},\n\t\t\t\t\t// Returns the current x position of the viewport with regards to the content pane.\n\t\t\t\t\tgetContentPositionX: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn contentPositionX();\n\t\t\t\t\t},\n\t\t\t\t\t// Returns the current y position of the viewport with regards to the content pane.\n\t\t\t\t\tgetContentPositionY: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn contentPositionY();\n\t\t\t\t\t},\n\t\t\t\t\t// Returns the width of the content within the scroll pane.\n\t\t\t\t\tgetContentWidth: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn contentWidth;\n\t\t\t\t\t},\n\t\t\t\t\t// Returns the height of the content within the scroll pane.\n\t\t\t\t\tgetContentHeight: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn contentHeight;\n\t\t\t\t\t},\n\t\t\t\t\t// Returns the horizontal position of the viewport within the pane content.\n\t\t\t\t\tgetPercentScrolledX: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn contentPositionX() / (contentWidth - paneWidth);\n\t\t\t\t\t},\n\t\t\t\t\t// Returns the vertical position of the viewport within the pane content.\n\t\t\t\t\tgetPercentScrolledY: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn contentPositionY() / (contentHeight - paneHeight);\n\t\t\t\t\t},\n\t\t\t\t\t// Returns whether or not this scrollpane has a horizontal scrollbar.\n\t\t\t\t\tgetIsScrollableH: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn isScrollableH;\n\t\t\t\t\t},\n\t\t\t\t\t// Returns whether or not this scrollpane has a vertical scrollbar.\n\t\t\t\t\tgetIsScrollableV: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn isScrollableV;\n\t\t\t\t\t},\n\t\t\t\t\t// Gets a reference to the content pane. It is important that you use this method if you want to\n\t\t\t\t\t// edit the content of your jScrollPane as if you access the element directly then you may have some\n\t\t\t\t\t// problems (as your original element has had additional elements for the scrollbars etc added into\n\t\t\t\t\t// it).\n\t\t\t\t\tgetContentPane: function()\n\t\t\t\t\t{\n\t\t\t\t\t\treturn pane;\n\t\t\t\t\t},\n\t\t\t\t\t// Scrolls this jScrollPane down as far as it can currently scroll. If animate isn't passed then the\n\t\t\t\t\t// animateScroll value from settings is used instead.\n\t\t\t\t\tscrollToBottom: function(animate)\n\t\t\t\t\t{\n\t\t\t\t\t\tpositionDragY(dragMaxY, animate);\n\t\t\t\t\t},\n\t\t\t\t\t// Hijacks the links on the page which link to content inside the scrollpane. If you have changed\n\t\t\t\t\t// the content of your page (e.g. via AJAX) and want to make sure any new anchor links to the\n\t\t\t\t\t// contents of your scroll pane will work then call this function.\n\t\t\t\t\thijackInternalLinks: $.noop,\n\t\t\t\t\t// Removes the jScrollPane and returns the page to the state it was in before jScrollPane was\n\t\t\t\t\t// initialised.\n\t\t\t\t\tdestroy: function()\n\t\t\t\t\t{\n\t\t\t\t\t\t\tdestroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tinitialise(s);\n\t\t}\n\n\t\t// Pluginifying code...\n\t\tsettings = $.extend({}, $.fn.jScrollPane.defaults, settings);\n\n\t\t// Apply default speed\n\t\t$.each(['arrowButtonSpeed', 'trackClickSpeed', 'keyboardSpeed'], function() {\n\t\t\tsettings[this] = settings[this] || settings.speed;\n\t\t});\n\n\t\treturn this.each(\n\t\t\tfunction()\n\t\t\t{\n\t\t\t\tvar elem = $(this), jspApi = elem.data('jsp');\n\t\t\t\tif (jspApi) {\n\t\t\t\t\tjspApi.reinitialise(settings);\n\t\t\t\t} else {\n\t\t\t\t\t$('script',elem).filter('[type=\"text/javascript\"],:not([type])').remove();\n\t\t\t\t\tjspApi = new JScrollPane(elem, settings);\n\t\t\t\t\telem.data('jsp', jspApi);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t};\n\n\t$.fn.jScrollPane.defaults = {\n\t\tshowArrows\t\t\t\t\t: false,\n\t\tmaintainPosition\t\t\t: true,\n\t\tstickToBottom\t\t\t\t: false,\n\t\tstickToRight\t\t\t\t: false,\n\t\tclickOnTrack\t\t\t\t: true,\n\t\tautoReinitialise\t\t\t: false,\n\t\tautoReinitialiseDelay\t\t: 500,\n\t\tverticalDragMinHeight\t\t: 0,\n\t\tverticalDragMaxHeight\t\t: 99999,\n\t\thorizontalDragMinWidth\t\t: 0,\n\t\thorizontalDragMaxWidth\t\t: 99999,\n\t\tcontentWidth\t\t\t\t: undefined,\n\t\tanimateScroll\t\t\t\t: false,\n\t\tanimateDuration\t\t\t\t: 300,\n\t\tanimateEase\t\t\t\t\t: 'linear',\n\t\thijackInternalLinks\t\t\t: false,\n\t\tverticalGutter\t\t\t\t: 4,\n\t\thorizontalGutter\t\t\t: 4,\n\t\tmouseWheelSpeed\t\t\t\t: 3,\n\t\tarrowButtonSpeed\t\t\t: 0,\n\t\tarrowRepeatFreq\t\t\t\t: 50,\n\t\tarrowScrollOnHover\t\t\t: false,\n\t\ttrackClickSpeed\t\t\t\t: 0,\n\t\ttrackClickRepeatFreq\t\t: 70,\n\t\tverticalArrowPositions\t\t: 'split',\n\t\thorizontalArrowPositions\t: 'split',\n\t\tenableKeyboardNavigation\t: true,\n\t\thideFocus\t\t\t\t\t: false,\n\t\tkeyboardSpeed\t\t\t\t: 0,\n\t\tinitialDelay                : 300,        // Delay before starting repeating\n\t\tspeed\t\t\t\t\t\t: 30,\t\t// Default speed when others falsey\n\t\tscrollPagePercent\t\t\t: 0.8,\t\t// Percent of visible area scrolled when pageUp/Down or track area pressed\n\t\talwaysShowVScroll\t\t\t: false,\n\t\talwaysShowHScroll\t\t\t: false,\n\t};\n\n}));\n"]}