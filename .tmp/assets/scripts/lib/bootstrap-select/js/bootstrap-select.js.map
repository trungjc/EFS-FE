{"version":3,"sources":["lib/bootstrap-select/js/bootstrap-select.js"],"names":["$","testElement","document","createElement","classList","toggle","contains","_toggle","DOMTokenList","prototype","token","force","arguments","call","isEqual","array1","array2","length","every","element","index","String","startsWith","defineProperty","object","$defineProperty","Object","result","error","toString","search","TypeError","string","stringLength","searchString","searchLength","position","undefined","pos","Number","start","Math","min","max","charCodeAt","keys","o","k","r","hasOwnProperty","push","getSelectValues","select","options","opt","multiple","i","len","selected","value","text","valHooks","useDefault","_set","set","elem","data","apply","changed_arguments","EventIsSupported","Event","e","fn","triggerNative","eventName","el","event","dispatchEvent","bubbles","createEvent","initEvent","fireEvent","createEventObject","eventType","trigger","stringSearch","li","method","normalize","stringTypes","searchSuccess","stringType","replace","normalizeToBase","toUpperCase","indexOf","toInteger","parseInt","rExps","re","ch","each","escapeMap","unescapeMap","createEscaper","map","escaper","match","source","join","testRegexp","RegExp","replaceRegexp","test","htmlEscape","htmlUnescape","keyCodeMap","keyCodes","ESCAPE","ENTER","SPACE","TAB","ARROW_UP","ARROW_DOWN","version","full","dropdown","Constructor","VERSION","split","major","classNames","DISABLED","DIVIDER","SHOW","DROPUP","MENURIGHT","MENULEFT","BUTTONCLASS","POPOVERHEADER","REGEXP_ARROW","REGEXP_TAB_OR_ESCAPE","REGEXP_ENTER_OR_SPACE","Selectpicker","that","$element","$newElement","$button","$menu","selectpicker","main","newIndex","originalIndex","current","view","keydown","keyHistory","resetKeyHistory","setTimeout","title","attr","winPad","windowPadding","val","render","refresh","setStyle","selectAll","deselectAll","destroy","remove","show","hide","init","DEFAULTS","noneSelectedText","noneResultsText","countSelectedText","numSelected","numTotal","maxOptionsText","numAll","numGroup","selectAllText","deselectAllText","doneButton","doneButtonText","multipleSeparator","styleBase","style","size","selectedTextFormat","width","container","hideDisabled","showSubtext","showIcon","showContent","dropupAuto","header","liveSearch","liveSearchPlaceholder","liveSearchNormalize","liveSearchStyle","actionsBox","iconBase","tickIcon","showTick","template","caret","maxOptions","mobile","selectOnTab","dropdownAlignRight","virtualScroll","constructor","id","addClass","prop","autofocus","createDropdown","createLi","after","prependTo","children","$menuInner","$searchbox","find","removeClass","checkDisabled","clickListener","liveSearchListener","setWidth","selectPosition","on","isVirtual","menuInner","emptyMenu","firstChild","cloneNode","replaceChild","scrollTop","hasAttribute","off","validity","valid","focus","blur","searchbox","actionsbox","donebutton","drop","setPositionData","canHighlight","type","height","sizeInfo","dividerHeight","dropdownHeaderHeight","liHeight","disabled","elements","createView","isSearching","$lis","active","prevActive","activeIndex","prevActiveIndex","scroll","updateValue","noScroll","chunks","chunkSize","chunkCount","firstChunk","lastChunk","currentChunk","prevPositions","positionIsDifferent","previousElements","menuIsDifferent","hasScrollBar","offsetWidth","totalMenuWidth","menuWidth","scrollBarWidth","css","ceil","menuInnerHeight","round","end_of_chunk","position0","position1","selectedIndex","visibleElements","slice","setOptionStatus","menuFragment","createDocumentFragment","marginTop","marginBottom","visibleElementsLen","appendChild","newActive","currentActive","add","window","mainElements","widestOption","availableOptionsCount","widestOptionLength","mainData","optID","headerIndex","liIndex","titleOption","elementTemplates","span","subtext","a","whitespace","createTextNode","checkMark","fragment","className","setAttribute","generateLI","content","classes","optgroup","nodeType","innerHTML","generateA","inline","insertAdjacentHTML","generateText","textElement","optionSubtextElement","optionIconElement","optionContent","textContent","optionIcon","optionSubtext","generateLabel","labelTextElement","labelSubtextElement","labelIconElement","labelEscaped","labelIcon","labelSubtext","isSelected","titleNotAppended","parentNode","$opt","insertBefore","$selectOptions","$this","hasClass","thisData","optionClass","cssText","tokens","icon","$parent","parent","isOptgroup","tagName","isOptgroupDisabled","isDisabled","prevHiddenIndex","showDivider","previousElementSibling","parentData","hidden","next","prevHidden","divider","allOptionsDisabled","$options","filter","optGroupClass","label","labelElement","lastIndex","childElementCount","_mainDataLast","combinedLength","findLis","selectedItems","selectedItemsInTitle","togglePlaceholder","tabIndex","option","titleItem","trim","totalCount","tr8nText","status","buttonClass","newElement","menu","menuInnerInner","dropdownHeader","actions","selectWidth","input","body","offsetHeight","headerHeight","searchHeight","actionsHeight","doneButtonHeight","outerHeight","menuStyle","getComputedStyle","menuPadding","vert","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","horiz","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","menuExtras","marginLeft","marginRight","overflowY","removeChild","selectHeight","getSelectPosition","$window","offset","$container","containerPos","is","top","left","selectOffsetTop","selectOffsetBot","selectOffsetLeft","scrollLeft","selectOffsetRight","setMenuSize","isAuto","divHeight","menuHeight","divLength","minHeight","_minHeight","maxHeight","menuInnerMinHeight","estimate","toggleClass","_popper","update","setSize","requestAnimationFrame","$selectClone","clone","appendTo","btnWidth","outerWidth","$bsContainer","actualHeight","getPlacement","containerPosition","append","detach","setDisabled","setSelected","activeIndexIsSet","thisIsActive","keepActive","removeAttr","click","nothingSelected","$document","keyCode","preventDefault","_menu","retainActive","clickedIndex","prevValue","prevIndex","triggerChange","stopPropagation","$option","eq","state","$optgroup","maxOptionsGrp","maxReached","maxReachedGrp","optgroupID","maxOptionsArr","maxTxt","maxTxtGrp","$notify","delay","fadeOut","currentTarget","target","no_results","searchValue","searchMatch","q","cache","cacheArr","searchStyle","_searchStyle","normalizeSearch","_$lisSelected","cacheLen","liPrev","changeAll","previousSelected","currentSelected","$items","isActive","liActive","activeLi","updateScroll","downOnTab","which","isArrowKey","lastIndexOf","liActiveIndex","scrollHeight","matches","cancel","clearTimeout","charAt","hasMatch","matchIndex","config","extend","before","removeData","Plugin","args","_option","shift","chain","defaults","Function","old","noConflict","$selectpicker","jQuery"],"mappings":"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","file":"bootstrap-select.js","sourcesContent":["(function ($) {\n  'use strict';\n\n  var testElement = document.createElement('_');\n\n  testElement.classList.toggle('c3', false);\n\n  // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n  // support the second argument.\n  if (testElement.classList.contains('c3')) {\n    var _toggle = DOMTokenList.prototype.toggle;\n\n    DOMTokenList.prototype.toggle = function(token, force) {\n      if (1 in arguments && !this.contains(token) === !force) {\n        return force;\n      } else {\n        return _toggle.call(this, token);\n      }\n    };\n  }\n\n  // shallow array comparison\n  function isEqual (array1, array2) {\n    return array1.length === array2.length && array1.every(function(element, index) {\n      return element === array2[index]; \n    });\n  };\n\n  //<editor-fold desc=\"Shims\">\n  if (!String.prototype.startsWith) {\n    (function () {\n      'use strict'; // needed to support `apply`/`call` with `undefined`/`null`\n      var defineProperty = (function () {\n        // IE 8 only supports `Object.defineProperty` on DOM elements\n        try {\n          var object = {};\n          var $defineProperty = Object.defineProperty;\n          var result = $defineProperty(object, object, object) && $defineProperty;\n        } catch (error) {\n        }\n        return result;\n      }());\n      var toString = {}.toString;\n      var startsWith = function (search) {\n        if (this == null) {\n          throw new TypeError();\n        }\n        var string = String(this);\n        if (search && toString.call(search) == '[object RegExp]') {\n          throw new TypeError();\n        }\n        var stringLength = string.length;\n        var searchString = String(search);\n        var searchLength = searchString.length;\n        var position = arguments.length > 1 ? arguments[1] : undefined;\n        // `ToInteger`\n        var pos = position ? Number(position) : 0;\n        if (pos != pos) { // better `isNaN`\n          pos = 0;\n        }\n        var start = Math.min(Math.max(pos, 0), stringLength);\n        // Avoid the `indexOf` call if no match is possible\n        if (searchLength + start > stringLength) {\n          return false;\n        }\n        var index = -1;\n        while (++index < searchLength) {\n          if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {\n            return false;\n          }\n        }\n        return true;\n      };\n      if (defineProperty) {\n        defineProperty(String.prototype, 'startsWith', {\n          'value': startsWith,\n          'configurable': true,\n          'writable': true\n        });\n      } else {\n        String.prototype.startsWith = startsWith;\n      }\n    }());\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (\n      o, // object\n      k, // key\n      r  // result array\n      ){\n      // initialize object and result\n      r=[];\n      // iterate over object keys\n      for (k in o)\n          // fill result array with non-prototypical keys\n        r.hasOwnProperty.call(o, k) && r.push(k);\n      // return result\n      return r;\n    };\n  }\n\n  // much faster than $.val()\n  function getSelectValues(select) {\n    var result = [];\n    var options = select && select.options;\n    var opt;\n\n    if (select.multiple) {\n      for (var i = 0, len = options.length; i < len; i++) {\n        opt = options[i];\n\n        if (opt.selected) {\n          result.push(opt.value || opt.text);\n        }\n      }\n    } else {\n      result = select.value;\n    }\n\n    return result;\n  }\n\n  // set data-selected on select element if the value has been programmatically selected\n  // prior to initialization of bootstrap-select\n  // * consider removing or replacing an alternative method *\n  var valHooks = {\n    useDefault: false,\n    _set: $.valHooks.select.set\n  };\n\n  $.valHooks.select.set = function (elem, value) {\n    if (value && !valHooks.useDefault) $(elem).data('selected', true);\n\n    return valHooks._set.apply(this, arguments);\n  };\n\n  var changed_arguments = null;\n\n  var EventIsSupported = (function () {\n    try {\n      new Event('change');\n      return true;\n    } catch (e) {\n      return false;\n    }\n  })();\n\n  $.fn.triggerNative = function (eventName) {\n    var el = this[0],\n        event;\n\n    if (el.dispatchEvent) { // for modern browsers & IE9+\n      if (EventIsSupported) {\n        // For modern browsers\n        event = new Event(eventName, {\n          bubbles: true\n        });\n      } else {\n        // For IE since it doesn't support Event constructor\n        event = document.createEvent('Event');\n        event.initEvent(eventName, true, false);\n      }\n\n      el.dispatchEvent(event);\n    } else if (el.fireEvent) { // for IE8\n      event = document.createEventObject();\n      event.eventType = eventName;\n      el.fireEvent('on' + eventName, event);\n    } else {\n      // fall back to jQuery.trigger\n      this.trigger(eventName);\n    }\n  };\n  //</editor-fold>\n\n  function stringSearch(li, searchString, method, normalize) {\n    var stringTypes = [\n        'content',\n        'subtext',\n        'tokens'\n      ],\n      searchSuccess = false;\n\n    for (var i = 0; i < stringTypes.length; i++) {\n      var stringType = stringTypes[i],\n          string = li[stringType];\n\n      if (string) {\n        string = string.toString();\n\n        // Strip HTML tags. This isn't perfect, but it's much faster than any other method\n        if (stringType === 'content') {\n          string = string.replace(/<[^>]+>/g, '');\n        }\n\n        if (normalize) string = normalizeToBase(string);\n        string = string.toUpperCase();\n\n        if (method === 'contains') {\n          searchSuccess = string.indexOf(searchString) >= 0;\n        } else {\n          searchSuccess = string.startsWith(searchString);\n        }\n\n        if (searchSuccess) break;\n      }\n    }\n\n    return searchSuccess;\n  }\n\n  function toInteger(value) {\n    return parseInt(value, 10) || 0;\n  }\n\n  /**\n   * Remove all diatrics from the given text.\n   * @access private\n   * @param {String} text\n   * @returns {String}\n   */\n  function normalizeToBase(text) {\n    var rExps = [\n      {re: /[\\xC0-\\xC6]/g, ch: 'A'},\n      {re: /[\\xE0-\\xE6]/g, ch: 'a'},\n      {re: /[\\xC8-\\xCB]/g, ch: 'E'},\n      {re: /[\\xE8-\\xEB]/g, ch: 'e'},\n      {re: /[\\xCC-\\xCF]/g, ch: 'I'},\n      {re: /[\\xEC-\\xEF]/g, ch: 'i'},\n      {re: /[\\xD2-\\xD6]/g, ch: 'O'},\n      {re: /[\\xF2-\\xF6]/g, ch: 'o'},\n      {re: /[\\xD9-\\xDC]/g, ch: 'U'},\n      {re: /[\\xF9-\\xFC]/g, ch: 'u'},\n      {re: /[\\xC7-\\xE7]/g, ch: 'c'},\n      {re: /[\\xD1]/g, ch: 'N'},\n      {re: /[\\xF1]/g, ch: 'n'}\n    ];\n    $.each(rExps, function () {\n      text = text ? text.replace(this.re, this.ch) : '';\n    });\n    return text;\n  }\n\n\n  // List of HTML entities for escaping.\n  var escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '\\'': '&#x27;',\n    '`': '&#x60;'\n  };\n  \n  var unescapeMap = {\n    '&amp;': '&',\n    '&lt;': '<',\n    '&gt;': '>',\n    '&quot;': '\"',\n    '&#x27;': '\\'',\n    '&#x60;': '`'\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function (map) {\n    var escaper = function (match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped.\n    var source = '(?:' + Object.keys(map).join('|') + ')';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, 'g');\n    return function (string) {\n      string = string == null ? '' : '' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n\n  var htmlEscape = createEscaper(escapeMap);\n  var htmlUnescape = createEscaper(unescapeMap);\n\n  /**\n   * ------------------------------------------------------------------------\n   * Constants\n   * ------------------------------------------------------------------------\n   */\n\n  var keyCodeMap = {\n    32: ' ',\n    48: '0',\n    49: '1',\n    50: '2',\n    51: '3',\n    52: '4',\n    53: '5',\n    54: '6',\n    55: '7',\n    56: '8',\n    57: '9',\n    59: ';',\n    65: 'A',\n    66: 'B',\n    67: 'C',\n    68: 'D',\n    69: 'E',\n    70: 'F',\n    71: 'G',\n    72: 'H',\n    73: 'I',\n    74: 'J',\n    75: 'K',\n    76: 'L',\n    77: 'M',\n    78: 'N',\n    79: 'O',\n    80: 'P',\n    81: 'Q',\n    82: 'R',\n    83: 'S',\n    84: 'T',\n    85: 'U',\n    86: 'V',\n    87: 'W',\n    88: 'X',\n    89: 'Y',\n    90: 'Z',\n    96: '0',\n    97: '1',\n    98: '2',\n    99: '3',\n    100: '4',\n    101: '5',\n    102: '6',\n    103: '7',\n    104: '8',\n    105: '9'\n  };\n\n  var keyCodes = {\n    ESCAPE: 27, // KeyboardEvent.which value for Escape (Esc) key\n    ENTER: 13, // KeyboardEvent.which value for Enter key\n    SPACE: 32, // KeyboardEvent.which value for space key\n    TAB: 9, // KeyboardEvent.which value for tab key\n    ARROW_UP: 38, // KeyboardEvent.which value for up arrow key\n    ARROW_DOWN: 40 // KeyboardEvent.which value for down arrow key\n  }\n\n  var version = {};\n  version.full = ($.fn.dropdown.Constructor.VERSION || '').split(' ')[0].split('.');\n  version.major = version.full[0];\n\n  var classNames = {\n    DISABLED: 'disabled',\n    DIVIDER: version.major === '4' ? 'dropdown-divider' : 'divider',\n    SHOW: version.major === '4' ? 'show' : 'open',\n    DROPUP: 'dropup',\n    MENURIGHT: 'dropdown-menu-right',\n    MENULEFT: 'dropdown-menu-left',\n    // to-do: replace with more advanced template/customization options\n    BUTTONCLASS: version.major === '4' ? 'btn-light' : 'btn-default',\n    POPOVERHEADER: version.major === '4' ? 'popover-header' : 'popover-title'\n  }\n\n  var REGEXP_ARROW = new RegExp(keyCodes.ARROW_UP + '|' + keyCodes.ARROW_DOWN);\n  var REGEXP_TAB_OR_ESCAPE = new RegExp('^' + keyCodes.TAB + '$|' + keyCodes.ESCAPE);\n  var REGEXP_ENTER_OR_SPACE = new RegExp(keyCodes.ENTER + '|' + keyCodes.SPACE);\n\n  var Selectpicker = function (element, options) {\n    var that = this;\n\n    // bootstrap-select has been initialized - revert valHooks.select.set back to its original function\n    if (!valHooks.useDefault) {\n      $.valHooks.select.set = valHooks._set;\n      valHooks.useDefault = true;\n    }\n\n    this.$element = $(element);\n    this.$newElement = null;\n    this.$button = null;\n    this.$menu = null;\n    this.options = options;\n    this.selectpicker = {\n      main: {\n        // store originalIndex (key) and newIndex (value) in this.selectpicker.main.map.newIndex for fast accessibility\n        // allows us to do this.main.elements[this.selectpicker.main.map.newIndex[index]] to select an element based on the originalIndex\n        map: {\n          newIndex: {},\n          originalIndex: {}\n        }\n      },\n      current: {\n        map: {}\n      }, // current changes if a search is in progress\n      search: {\n        map: {}\n      },\n      view: {},\n      keydown: {\n        keyHistory: '',\n        resetKeyHistory: {\n          start: function () {\n            return setTimeout(function () {\n              that.selectpicker.keydown.keyHistory = '';\n            }, 800);\n          }\n        }\n      }\n    };\n    // If we have no title yet, try to pull it from the html title attribute (jQuery doesnt' pick it up as it's not a\n    // data-attribute)\n    if (this.options.title === null) {\n      this.options.title = this.$element.attr('title');\n    }\n\n    // Format window padding\n    var winPad = this.options.windowPadding;\n    if (typeof winPad === 'number') {\n      this.options.windowPadding = [winPad, winPad, winPad, winPad];\n    }\n\n    //Expose public methods\n    this.val = Selectpicker.prototype.val;\n    this.render = Selectpicker.prototype.render;\n    this.refresh = Selectpicker.prototype.refresh;\n    this.setStyle = Selectpicker.prototype.setStyle;\n    this.selectAll = Selectpicker.prototype.selectAll;\n    this.deselectAll = Selectpicker.prototype.deselectAll;\n    this.destroy = Selectpicker.prototype.destroy;\n    this.remove = Selectpicker.prototype.remove;\n    this.show = Selectpicker.prototype.show;\n    this.hide = Selectpicker.prototype.hide;\n\n    this.init();\n  };\n\n  Selectpicker.VERSION = '1.13.0';\n\n  // part of this is duplicated in i18n/defaults-en_US.js. Make sure to update both.\n  Selectpicker.DEFAULTS = {\n    noneSelectedText: 'Nothing selected',\n    noneResultsText: 'No results matched {0}',\n    countSelectedText: function (numSelected, numTotal) {\n      return (numSelected == 1) ? '{0} item selected' : '{0} items selected';\n    },\n    maxOptionsText: function (numAll, numGroup) {\n      return [\n        (numAll == 1) ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)',\n        (numGroup == 1) ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)'\n      ];\n    },\n    selectAllText: 'Select All',\n    deselectAllText: 'Deselect All',\n    doneButton: false,\n    doneButtonText: 'Close',\n    multipleSeparator: ', ',\n    styleBase: 'btn',\n    style: 'btn-default',\n    size: 'auto',\n    title: null,\n    selectedTextFormat: 'values',\n    width: false,\n    container: false,\n    hideDisabled: false,\n    showSubtext: false,\n    showIcon: true,\n    showContent: true,\n    dropupAuto: true,\n    header: false,\n    liveSearch: false,\n    liveSearchPlaceholder: null,\n    liveSearchNormalize: false,\n    liveSearchStyle: 'contains',\n    actionsBox: false,\n    iconBase: 'glyphicon',\n    tickIcon: 'glyphicon-ok',\n    showTick: false,\n    template: {\n      caret: '<span class=\"caret\"></span>'\n    },\n    maxOptions: false,\n    mobile: false,\n    selectOnTab: false,\n    dropdownAlignRight: false,\n    windowPadding: 0,\n    virtualScroll: 600\n  };\n\n  if (version.major === '4') {\n    Selectpicker.DEFAULTS.style = 'btn-light';\n    Selectpicker.DEFAULTS.iconBase = '';\n    Selectpicker.DEFAULTS.tickIcon = 'bs-ok-default';\n  }\n\n  Selectpicker.prototype = {\n\n    constructor: Selectpicker,\n\n    init: function () {\n      var that = this,\n          id = this.$element.attr('id');\n\n      this.$element.addClass('bs-select-hidden');\n\n      this.multiple = this.$element.prop('multiple');\n      this.autofocus = this.$element.prop('autofocus');\n      this.$newElement = this.createDropdown();\n      this.createLi();\n      this.$element\n        .after(this.$newElement)\n        .prependTo(this.$newElement);\n      this.$button = this.$newElement.children('button');\n      this.$menu = this.$newElement.children('.dropdown-menu');\n      this.$menuInner = this.$menu.children('.inner');\n      this.$searchbox = this.$menu.find('input');\n\n      this.$element.removeClass('bs-select-hidden');\n\n      if (this.options.dropdownAlignRight === true) this.$menu.addClass(classNames.MENURIGHT);\n\n      if (typeof id !== 'undefined') {\n        this.$button.attr('data-id', id);\n      }\n\n      this.checkDisabled();\n      this.clickListener();\n      if (this.options.liveSearch) this.liveSearchListener();\n      this.render();\n      this.setStyle();\n      this.setWidth();\n      if (this.options.container) {\n        this.selectPosition();\n      } else {\n        this.$element.on('hide.bs.select', function () {\n          if (that.isVirtual()) {\n            // empty menu on close\n            var menuInner = that.$menuInner[0],\n                emptyMenu = menuInner.firstChild.cloneNode(false);\n\n            // replace the existing UL with an empty one - this is faster than $.empty() or innerHTML = ''\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n            menuInner.scrollTop = 0;\n          }\n        });\n      }\n      this.$menu.data('this', this);\n      this.$newElement.data('this', this);\n      if (this.options.mobile) this.mobile();\n\n      this.$newElement.on({\n        'hide.bs.dropdown': function (e) {\n          that.$menuInner.attr('aria-expanded', false);\n          that.$element.trigger('hide.bs.select', e);\n        },\n        'hidden.bs.dropdown': function (e) {\n          that.$element.trigger('hidden.bs.select', e);\n        },\n        'show.bs.dropdown': function (e) {\n          that.$menuInner.attr('aria-expanded', true);\n          that.$element.trigger('show.bs.select', e);\n        },\n        'shown.bs.dropdown': function (e) {\n          that.$element.trigger('shown.bs.select', e);\n        }\n      });\n\n      if (that.$element[0].hasAttribute('required')) {\n        this.$element.on('invalid', function () {\n          that.$button.addClass('bs-invalid');\n\n          that.$element.on({\n            'shown.bs.select': function () {\n              that.$element\n                .val(that.$element.val()) // set the value to hide the validation message in Chrome when menu is opened\n                .off('shown.bs.select');\n            },\n            'rendered.bs.select': function () {\n              // if select is no longer invalid, remove the bs-invalid class\n              if (this.validity.valid) that.$button.removeClass('bs-invalid');\n              that.$element.off('rendered.bs.select');\n            }\n          });\n\n          that.$button.on('blur.bs.select', function () {\n            that.$element.focus().blur();\n            that.$button.off('blur.bs.select');\n          });\n        });\n      }\n\n      setTimeout(function () {\n        that.$element.trigger('loaded.bs.select');\n      });\n    },\n\n    createDropdown: function () {\n      // Options\n      // If we are multiple or showTick option is set, then add the show-tick class\n      var showTick = (this.multiple || this.options.showTick) ? ' show-tick' : '',\n          autofocus = this.autofocus ? ' autofocus' : '';\n      // Elements\n      var header = this.options.header ? '<div class=\"' + classNames.POPOVERHEADER + '\"><button type=\"button\" class=\"close\" aria-hidden=\"true\">&times;</button>' + this.options.header + '</div>' : '';\n      var searchbox = this.options.liveSearch ?\n      '<div class=\"bs-searchbox\">' +\n      '<input type=\"text\" class=\"form-control\" autocomplete=\"off\"' +\n      (null === this.options.liveSearchPlaceholder ? '' : ' placeholder=\"' + htmlEscape(this.options.liveSearchPlaceholder) + '\"') + ' role=\"textbox\" aria-label=\"Search\">' +\n      '</div>'\n          : '';\n      var actionsbox = this.multiple && this.options.actionsBox ?\n      '<div class=\"bs-actionsbox\">' +\n      '<div class=\"btn-group btn-group-sm btn-block\">' +\n      '<button type=\"button\" class=\"actions-btn bs-select-all btn ' + classNames.BUTTONCLASS + '\">' +\n      this.options.selectAllText +\n      '</button>' +\n      '<button type=\"button\" class=\"actions-btn bs-deselect-all btn ' + classNames.BUTTONCLASS + '\">' +\n      this.options.deselectAllText +\n      '</button>' +\n      '</div>' +\n      '</div>'\n          : '';\n      var donebutton = this.multiple && this.options.doneButton ?\n      '<div class=\"bs-donebutton\">' +\n      '<div class=\"btn-group btn-block\">' +\n      '<button type=\"button\" class=\"btn btn-sm ' + classNames.BUTTONCLASS + '\">' +\n      this.options.doneButtonText +\n      '</button>' +\n      '</div>' +\n      '</div>'\n          : '';\n      var drop =\n          '<div class=\"dropdown bootstrap-select' + showTick + '\">' +\n          '<button type=\"button\" class=\"' + this.options.styleBase + ' dropdown-toggle\" data-toggle=\"dropdown\"' + autofocus + ' role=\"button\">' +\n          '<div class=\"filter-option\">' +\n            '<div class=\"filter-option-inner\">' +\n              '<div class=\"filter-option-inner-inner\"></div>' +\n            '</div> ' +\n          '</div>' +\n          (version.major === '4' ?\n            '' :\n          '<span class=\"bs-caret\">' +\n          this.options.template.caret +\n          '</span>'\n          ) +\n          '</button>' +\n          '<div class=\"dropdown-menu ' + (version.major === '4' ? '' : classNames.SHOW) + '\" role=\"combobox\">' +\n          header +\n          searchbox +\n          actionsbox +\n          '<div class=\"inner ' + classNames.SHOW + '\" role=\"listbox\" aria-expanded=\"false\" tabindex=\"-1\">' +\n              '<ul class=\"dropdown-menu inner ' + (version.major === '4' ? classNames.SHOW : '') + '\">' +\n              '</ul>' +\n          '</div>' +\n          donebutton +\n          '</div>' +\n          '</div>';\n\n      return $(drop);\n    },\n\n    setPositionData: function () {\n      this.selectpicker.view.canHighlight = [];\n\n      for (var i = 0; i < this.selectpicker.current.data.length; i++) {\n        var li = this.selectpicker.current.data[i],\n            canHighlight = true;\n\n        if (li.type === 'divider') {\n          canHighlight = false;\n          li.height = this.sizeInfo.dividerHeight;\n        } else if (li.type === 'optgroup-label') {\n          canHighlight = false;\n          li.height = this.sizeInfo.dropdownHeaderHeight;\n        } else {\n          li.height = this.sizeInfo.liHeight;\n        }\n\n        if (li.disabled) canHighlight = false;\n\n        this.selectpicker.view.canHighlight.push(canHighlight);\n\n        li.position = (i === 0 ? 0 : this.selectpicker.current.data[i - 1].position) + li.height;\n      }\n    },\n\n    isVirtual: function () {\n      return (this.options.virtualScroll !== false) && this.selectpicker.main.elements.length >= this.options.virtualScroll || this.options.virtualScroll === true;\n    },\n\n    createView: function (isSearching, scrollTop) {\n      scrollTop = scrollTop || 0;\n\n      var that = this;\n\n      this.selectpicker.current = isSearching ? this.selectpicker.search : this.selectpicker.main;\n\n      var $lis;\n      var active = [];\n      var selected;\n      var prevActive;\n      var activeIndex;\n      var prevActiveIndex;\n\n      this.setPositionData();\n\n      scroll(scrollTop, true);\n\n      this.$menuInner.off('scroll.createView').on('scroll.createView', function (e, updateValue) {\n        if (!that.noScroll) scroll(this.scrollTop, updateValue);\n        that.noScroll = false;\n      });\n\n      function scroll(scrollTop, init) {\n        var size = that.selectpicker.current.elements.length,\n            chunks = [],\n            chunkSize,\n            chunkCount,\n            firstChunk,\n            lastChunk,\n            currentChunk = undefined,\n            prevPositions,\n            positionIsDifferent,\n            previousElements,\n            menuIsDifferent = true,\n            isVirtual = that.isVirtual();\n\n        that.selectpicker.view.scrollTop = scrollTop;\n\n        if (isVirtual === true) {\n          // if an option that is encountered that is wider than the current menu width, update the menu width accordingly\n          if (that.sizeInfo.hasScrollBar && that.$menu[0].offsetWidth > that.sizeInfo.totalMenuWidth) {\n            that.sizeInfo.menuWidth = that.$menu[0].offsetWidth;\n            that.sizeInfo.totalMenuWidth = that.sizeInfo.menuWidth + that.sizeInfo.scrollBarWidth;\n            that.$menu.css('min-width', that.sizeInfo.menuWidth);\n          }\n        }\n\n        chunkSize = Math.ceil(that.sizeInfo.menuInnerHeight / that.sizeInfo.liHeight * 1.5); // number of options in a chunk\n        chunkCount = Math.round(size / chunkSize) || 1; // number of chunks\n\n        for (var i = 0; i < chunkCount; i++) {\n          var end_of_chunk = (i + 1) * chunkSize;\n\n          if (i === chunkCount - 1) {\n            end_of_chunk = size;\n          }\n\n          chunks[i] = [\n            (i) * chunkSize + (!i ? 0 : 1),\n            end_of_chunk\n          ];\n\n          if (!size) break;\n\n          if (currentChunk === undefined && scrollTop <= that.selectpicker.current.data[end_of_chunk - 1].position - that.sizeInfo.menuInnerHeight) {\n            currentChunk = i;\n          }\n        }\n\n        if (currentChunk === undefined) currentChunk = 0;\n\n        prevPositions = [that.selectpicker.view.position0, that.selectpicker.view.position1];\n\n        // always display previous, current, and next chunks\n        firstChunk = Math.max(0, currentChunk - 1);\n        lastChunk = Math.min(chunkCount - 1, currentChunk + 1);\n\n        that.selectpicker.view.position0 = Math.max(0, chunks[firstChunk][0]) || 0;\n        that.selectpicker.view.position1 = Math.min(size, chunks[lastChunk][1]) || 0;\n\n        positionIsDifferent = prevPositions[0] !== that.selectpicker.view.position0 || prevPositions[1] !== that.selectpicker.view.position1;\n\n        if (that.activeIndex !== undefined) {\n          prevActive = that.selectpicker.current.elements[that.selectpicker.current.map.newIndex[that.prevActiveIndex]];\n          active = that.selectpicker.current.elements[that.selectpicker.current.map.newIndex[that.activeIndex]];\n          selected = that.selectpicker.current.elements[that.selectpicker.current.map.newIndex[that.selectedIndex]];\n\n          if (init) {\n            if (that.activeIndex !== that.selectedIndex) {\n              active.classList.remove('active');\n              if (active.firstChild) active.firstChild.classList.remove('active');\n            }\n            that.activeIndex = undefined;\n          }\n\n          if (that.activeIndex && that.activeIndex !== that.selectedIndex && selected && selected.length) {\n            selected.classList.remove('active');\n            if (selected.firstChild) selected.firstChild.classList.remove('active');\n          }\n        }\n\n        if (that.prevActiveIndex !== undefined && that.prevActiveIndex !== that.activeIndex && that.prevActiveIndex !== that.selectedIndex && prevActive && prevActive.length) {\n          prevActive.classList.remove('active');\n          if (prevActive.firstChild) prevActive.firstChild.classList.remove('active');\n        }\n\n        if (init || positionIsDifferent) {\n          previousElements = that.selectpicker.view.visibleElements ? that.selectpicker.view.visibleElements.slice() : [];\n\n          that.selectpicker.view.visibleElements = that.selectpicker.current.elements.slice(that.selectpicker.view.position0, that.selectpicker.view.position1);\n\n          that.setOptionStatus();\n\n          // if searching, check to make sure the list has actually been updated before updating DOM\n          // this prevents unnecessary repaints\n          if ( isSearching || (isVirtual === false && init) ) menuIsDifferent = !isEqual(previousElements, that.selectpicker.view.visibleElements);\n\n          // if virtual scroll is disabled and not searching,\n          // menu should never need to be updated more than once\n          if ( (init || isVirtual === true) && menuIsDifferent ) {\n            var menuInner = that.$menuInner[0],\n                menuFragment = document.createDocumentFragment(),\n                emptyMenu = menuInner.firstChild.cloneNode(false),\n                marginTop,\n                marginBottom,\n                elements = isVirtual === true ? that.selectpicker.view.visibleElements : that.selectpicker.current.elements;\n\n            // replace the existing UL with an empty one - this is faster than $.empty()\n            menuInner.replaceChild(emptyMenu, menuInner.firstChild);\n\n            for (var i = 0, visibleElementsLen = elements.length; i < visibleElementsLen; i++) {\n              menuFragment.appendChild(elements[i]);\n            }\n\n            if (isVirtual === true) {\n              marginTop = (that.selectpicker.view.position0 === 0 ? 0 : that.selectpicker.current.data[that.selectpicker.view.position0 - 1].position),\n              marginBottom = (that.selectpicker.view.position1 > size - 1 ? 0 : that.selectpicker.current.data[size - 1].position - that.selectpicker.current.data[that.selectpicker.view.position1 - 1].position);\n\n              menuInner.firstChild.style.marginTop = marginTop + 'px';\n              menuInner.firstChild.style.marginBottom = marginBottom + 'px';\n            }\n\n            menuInner.firstChild.appendChild(menuFragment);\n          }\n        }\n\n        that.prevActiveIndex = that.activeIndex;\n\n        if (!that.options.liveSearch) {\n          that.$menuInner.focus();\n        } else if (isSearching && init) {\n          var index = 0,\n              newActive;\n\n          if (!that.selectpicker.view.canHighlight[index]) {\n            index = 1 + that.selectpicker.view.canHighlight.slice(1).indexOf(true);\n          }\n\n          newActive = that.selectpicker.view.visibleElements[index];\n\n          if (that.selectpicker.view.currentActive) {\n            that.selectpicker.view.currentActive.classList.remove('active');\n            if (that.selectpicker.view.currentActive.firstChild) that.selectpicker.view.currentActive.firstChild.classList.remove('active');\n          }\n\n          if (newActive) {\n            newActive.classList.add('active');\n            if (newActive.firstChild) newActive.firstChild.classList.add('active');\n          }\n\n          that.activeIndex = that.selectpicker.current.map.originalIndex[index];\n        }\n      }\n\n      $(window).off('resize.createView').on('resize.createView', function () {\n        scroll(that.$menuInner[0].scrollTop);\n      });\n    },\n\n    createLi: function () {\n      var that = this,\n          mainElements = [],\n          widestOption,\n          availableOptionsCount = 0,\n          widestOptionLength = 0,\n          mainData = [],\n          optID = 0,\n          headerIndex = 0,\n          liIndex = -1; // increment liIndex whenever a new <li> element is created to ensure newIndex is correct\n\n      if (!this.selectpicker.view.titleOption) this.selectpicker.view.titleOption = document.createElement('option');\n\n      var elementTemplates = {\n          span: document.createElement('span'),\n          subtext: document.createElement('small'),\n          a: document.createElement('a'),\n          li: document.createElement('li'),\n          whitespace: document.createTextNode('\\u00A0')\n        },\n        checkMark = elementTemplates.span.cloneNode(false),\n        fragment = document.createDocumentFragment();\n\n      checkMark.className = that.options.iconBase + ' ' + that.options.tickIcon + ' check-mark';\n      elementTemplates.a.appendChild(checkMark);\n      elementTemplates.a.setAttribute('role', 'option');\n\n      elementTemplates.subtext.className = 'text-muted';\n\n      elementTemplates.text = elementTemplates.span.cloneNode(false);\n      elementTemplates.text.className = 'text';\n\n      // Helper functions\n      /**\n       * @param content\n       * @param [index]\n       * @param [classes]\n       * @param [optgroup]\n       * @returns {HTMLElement}\n       */\n      var generateLI = function (content, index, classes, optgroup) {\n        var li = elementTemplates.li.cloneNode(false);\n\n        if (content) {\n          if (content.nodeType === 1 || content.nodeType === 11) {\n            li.appendChild(content);\n          } else {\n            li.innerHTML = content;\n          }\n        }\n\n        if (typeof classes !== 'undefined' && '' !== classes) li.className = classes;\n        if (typeof optgroup !== 'undefined' && null !== optgroup) li.classList.add('optgroup-' + optgroup);\n\n        return li;\n      };\n\n      /**\n       * @param text\n       * @param [classes]\n       * @param [inline]\n       * @returns {string}\n       */\n      var generateA = function (text, classes, inline) {\n        var a = elementTemplates.a.cloneNode(true);\n\n        if (text) {\n          if (text.nodeType === 11) {\n            a.appendChild(text);\n          } else {\n            a.insertAdjacentHTML('beforeend', text);\n          }\n        }\n\n        if (typeof classes !== 'undefined' & '' !== classes) a.className = classes;\n        if (version.major === '4') a.classList.add('dropdown-item');\n        if (inline) a.setAttribute('style', inline);\n\n        return a;\n      };\n\n      var generateText = function (options) {\n        var textElement = elementTemplates.text.cloneNode(false),\n            optionSubtextElement,\n            optionIconElement;\n\n        if (options.optionContent) {\n          textElement.innerHTML = options.optionContent;\n        } else {\n          textElement.textContent = options.text;\n\n          if (options.optionIcon) {\n            var whitespace = elementTemplates.whitespace.cloneNode(false);\n\n            optionIconElement = elementTemplates.span.cloneNode(false);\n            optionIconElement.className = that.options.iconBase + ' ' + options.optionIcon;\n\n            fragment.appendChild(optionIconElement);\n            fragment.appendChild(whitespace);\n          }\n\n          if (options.optionSubtext) {\n            optionSubtextElement = elementTemplates.subtext.cloneNode(false);\n            optionSubtextElement.textContent = options.optionSubtext;\n            textElement.appendChild(optionSubtextElement);\n          }\n        }\n\n        fragment.appendChild(textElement);\n\n        return fragment;\n      };\n\n      var generateLabel = function (options) {\n        var labelTextElement = elementTemplates.text.cloneNode(false),\n            labelSubtextElement,\n            labelIconElement;\n\n        labelTextElement.textContent = options.labelEscaped;\n\n        if (options.labelIcon) {\n          var whitespace = elementTemplates.whitespace.cloneNode(false);\n\n          labelIconElement = elementTemplates.span.cloneNode(false);\n          labelIconElement.className = that.options.iconBase + ' ' + options.labelIcon;\n\n          fragment.appendChild(labelIconElement);\n          fragment.appendChild(whitespace);\n        }\n\n        if (options.labelSubtext) {\n          labelSubtextElement = elementTemplates.subtext.cloneNode(false);\n          labelSubtextElement.textContent = options.labelSubtext;\n          labelTextElement.appendChild(labelSubtextElement);\n        }\n\n        fragment.appendChild(labelTextElement);\n\n        return fragment;\n      }\n\n      if (this.options.title && !this.multiple) {\n        // this option doesn't create a new <li> element, but does add a new option, so liIndex is decreased\n        // since newIndex is recalculated on every refresh, liIndex needs to be decreased even if the titleOption is already appended\n        liIndex--;\n\n        var element = this.$element[0],\n            isSelected = false,\n            titleNotAppended = !this.selectpicker.view.titleOption.parentNode;\n\n        if (titleNotAppended) {\n          // Use native JS to prepend option (faster)\n          this.selectpicker.view.titleOption.className = 'bs-title-option';\n          this.selectpicker.view.titleOption.value = '';\n\n          // Check if selected or data-selected attribute is already set on an option. If not, select the titleOption option.\n          // the selected item may have been changed by user or programmatically before the bootstrap select plugin runs,\n          // if so, the select will have the data-selected attribute\n          var $opt = $(element.options[element.selectedIndex]);\n          isSelected = $opt.attr('selected') === undefined && this.$element.data('selected') === undefined;\n        }\n\n        if (titleNotAppended || this.selectpicker.view.titleOption.index !== 0) {\n          element.insertBefore(this.selectpicker.view.titleOption, element.firstChild);\n        }\n\n        // Set selected *after* appending to select,\n        // otherwise the option doesn't get selected in IE\n        // set using selectedIndex, as setting the selected attr to true here doesn't work in IE11\n        if (isSelected) element.selectedIndex = 0;\n      }\n\n      var $selectOptions = this.$element.find('option');\n\n      $selectOptions.each(function (index) {\n        var $this = $(this);\n\n        liIndex++;\n\n        if ($this.hasClass('bs-title-option')) return;\n\n        var thisData = $this.data();\n\n        // Get the class and text for the option\n        var optionClass = this.className || '',\n            inline = htmlEscape(this.style.cssText),\n            optionContent = thisData.content,\n            text = this.textContent,\n            tokens = thisData.tokens,\n            subtext = thisData.subtext,\n            icon = thisData.icon,\n            $parent = $this.parent(),\n            parent = $parent[0],\n            isOptgroup = parent.tagName === 'OPTGROUP',\n            isOptgroupDisabled = isOptgroup && parent.disabled,\n            isDisabled = this.disabled || isOptgroupDisabled,\n            prevHiddenIndex,\n            showDivider = this.previousElementSibling && this.previousElementSibling.tagName === 'OPTGROUP',\n            textElement;\n\n        var parentData = $parent.data();\n\n        if (thisData.hidden === true || that.options.hideDisabled && (isDisabled && !isOptgroup || isOptgroupDisabled)) {\n          // set prevHiddenIndex - the index of the first hidden option in a group of hidden options\n          // used to determine whether or not a divider should be placed after an optgroup if there are\n          // hidden options between the optgroup and the first visible option\n          prevHiddenIndex = thisData.prevHiddenIndex;\n          $this.next().data('prevHiddenIndex', (prevHiddenIndex !== undefined ? prevHiddenIndex : index));\n\n          liIndex--;\n\n          // if previous element is not an optgroup\n          if (!showDivider) {\n            if (prevHiddenIndex !== undefined) {\n              // select the element **before** the first hidden element in the group\n              var prevHidden = $selectOptions[prevHiddenIndex].previousElementSibling;\n              \n              if (prevHidden && prevHidden.tagName === 'OPTGROUP' && !prevHidden.disabled) {\n                showDivider = true;\n              }\n            }\n          }\n\n          if (showDivider && mainData[mainData.length - 1].type !== 'divider') {\n            liIndex++;\n            mainElements.push(\n              generateLI(\n                false,\n                null,\n                classNames.DIVIDER,\n                optID + 'div'\n              )\n            );\n            mainData.push({\n              type: 'divider',\n              optID: optID,\n              originalIndex: index\n            });\n          }\n\n          return;\n        }\n\n        if (isOptgroup && thisData.divider !== true) {\n          if (that.options.hideDisabled && isDisabled) {\n            if (parentData.allOptionsDisabled === undefined) {\n              var $options = $parent.children();\n              $parent.data('allOptionsDisabled', $options.filter(':disabled').length === $options.length);\n            }\n\n            if ($parent.data('allOptionsDisabled')) {\n              liIndex--;\n              return;\n            }\n          }\n\n          var optGroupClass = ' ' + parent.className || '';\n\n          if (!this.previousElementSibling) { // Is it the first option of the optgroup?\n            optID += 1;\n\n            // Get the opt group label\n            var label = parent.label,\n                labelEscaped = htmlEscape(label),\n                labelSubtext = parentData.subtext,\n                labelIcon = parentData.icon;\n\n            if (index !== 0 && mainElements.length > 0) { // Is it NOT the first option of the select && are there elements in the dropdown?\n              liIndex++;\n              mainElements.push(\n                generateLI(\n                  false,\n                  null,\n                  classNames.DIVIDER,\n                  optID + 'div'\n                )\n              );\n              mainData.push({\n                type: 'divider',\n                optID: optID,\n                originalIndex: index\n              });\n            }\n            liIndex++;\n\n            var labelElement = generateLabel({\n                  labelEscaped: labelEscaped,\n                  labelSubtext: labelSubtext,\n                  labelIcon: labelIcon\n                });\n\n            mainElements.push(generateLI(labelElement, null, 'dropdown-header' + optGroupClass, optID));\n            mainData.push({\n              content: labelEscaped,\n              subtext: labelSubtext,\n              type: 'optgroup-label',\n              optID: optID,\n              originalIndex: index\n            });\n            \n            headerIndex = liIndex - 1;\n          }\n\n          if (that.options.hideDisabled && isDisabled || thisData.hidden === true) {\n            liIndex--;\n            return;\n          }\n\n          textElement = generateText({\n            text: text,\n            optionContent: optionContent,\n            optionSubtext: subtext,\n            optionIcon: icon\n          });\n\n          mainElements.push(generateLI(generateA(textElement, 'opt ' + optionClass + optGroupClass, inline), index, '', optID));\n          mainData.push({\n            content: optionContent || text,\n            subtext: subtext,\n            tokens: tokens,\n            type: 'option',\n            optID: optID,\n            headerIndex: headerIndex,\n            lastIndex: headerIndex + parent.childElementCount,\n            originalIndex: index,\n            data: thisData\n          });\n\n          availableOptionsCount++;\n        } else if (thisData.divider === true) {\n          mainElements.push(generateLI(false, index, 'divider'));\n          mainData.push({\n            type: 'divider',\n            originalIndex: index\n          });\n        } else {\n          // if previous element is not an optgroup and hideDisabled is true\n          if (!showDivider && that.options.hideDisabled) {\n            prevHiddenIndex = thisData.prevHiddenIndex;\n\n            if (prevHiddenIndex !== undefined) {\n              // select the element **before** the first hidden element in the group\n              var prevHidden = $selectOptions[prevHiddenIndex].previousElementSibling;\n              \n              if (prevHidden && prevHidden.tagName === 'OPTGROUP' && !prevHidden.disabled) {\n                showDivider = true;\n              }\n            }\n          }\n\n          if (showDivider && mainData[mainData.length - 1].type !== 'divider') {\n            liIndex++;\n            mainElements.push(\n              generateLI(\n                false,\n                null,\n                classNames.DIVIDER,\n                optID + 'div'\n              )\n            );\n            mainData.push({\n              type: 'divider',\n              optID: optID,\n              originalIndex: index\n            });\n          }\n\n          textElement = generateText({\n            text: text,\n            optionContent: optionContent,\n            optionSubtext: subtext,\n            optionIcon: icon\n          });\n\n          mainElements.push(generateLI(generateA(textElement, optionClass, inline), index));\n          mainData.push({\n            content: optionContent || text,\n            subtext: subtext,\n            tokens: tokens,\n            type: 'option',\n            originalIndex: index,\n            data: thisData\n          });\n\n          availableOptionsCount++;\n        }\n\n        that.selectpicker.main.map.newIndex[index] = liIndex;\n        that.selectpicker.main.map.originalIndex[liIndex] = index;\n\n        // get the most recent option info added to mainData\n        var _mainDataLast = mainData[mainData.length - 1];\n\n        _mainDataLast.disabled = isDisabled;\n\n        var combinedLength = 0;\n\n        // count the number of characters in the option - not perfect, but should work in most cases\n        if (_mainDataLast.content) combinedLength += _mainDataLast.content.length;\n        if (_mainDataLast.subtext) combinedLength += _mainDataLast.subtext.length;\n        // if there is an icon, ensure this option's width is checked\n        if (icon) combinedLength += 1;\n\n        if (combinedLength > widestOptionLength) {\n          widestOptionLength = combinedLength;\n\n          // guess which option is the widest\n          // use this when calculating menu width\n          // not perfect, but it's fast, and the width will be updating accordingly when scrolling\n          widestOption = mainElements[mainElements.length - 1];\n        }\n      });\n\n      this.selectpicker.main.elements = mainElements;\n      this.selectpicker.main.data = mainData;\n\n      this.selectpicker.current = this.selectpicker.main;\n\n      this.selectpicker.view.widestOption = widestOption;\n      this.selectpicker.view.availableOptionsCount = availableOptionsCount; // faster way to get # of available options without filter\n    },\n\n    findLis: function () {\n      return this.$menuInner.find('.inner > li');\n    },\n\n    render: function () {\n      var that = this,\n          $selectOptions = this.$element.find('option'),\n          selectedItems = [],\n          selectedItemsInTitle = [];\n\n      this.togglePlaceholder();\n\n      this.tabIndex();\n\n      for (var i = 0, len = this.selectpicker.main.elements.length; i < len; i++) {\n        var index = this.selectpicker.main.map.originalIndex[i],\n            option = $selectOptions[index];\n\n        if (option && option.selected) {\n          selectedItems.push(option);\n\n          if (selectedItemsInTitle.length < 100 && that.options.selectedTextFormat !== 'count' || selectedItems.length === 1) {\n            if (that.options.hideDisabled && (option.disabled || option.parentNode.tagName === 'OPTGROUP' && option.parentNode.disabled)) return;\n\n            var thisData = this.selectpicker.main.data[i].data,\n                icon = thisData.icon && that.options.showIcon ? '<i class=\"' + that.options.iconBase + ' ' + thisData.icon + '\"></i> ' : '',\n                subtext,\n                titleItem;\n\n            if (that.options.showSubtext && thisData.subtext && !that.multiple) {\n              subtext = ' <small class=\"text-muted\">' + thisData.subtext + '</small>';\n            } else {\n              subtext = '';\n            }\n\n            if (option.title) {\n              titleItem = option.title;\n            } else if (thisData.content && that.options.showContent) {\n              titleItem = thisData.content.toString();\n            } else {\n              titleItem = icon + option.innerHTML.trim() + subtext;\n            }\n\n            selectedItemsInTitle.push(titleItem);\n          }\n        }\n      }\n\n      //Fixes issue in IE10 occurring when no default option is selected and at least one option is disabled\n      //Convert all the values into a comma delimited string\n      var title = !this.multiple ? selectedItemsInTitle[0] : selectedItemsInTitle.join(this.options.multipleSeparator);\n\n      // add ellipsis\n      if (selectedItems.length > 50) title += '...';\n\n      // If this is a multiselect, and selectedTextFormat is count, then show 1 of 2 selected etc..\n      if (this.multiple && this.options.selectedTextFormat.indexOf('count') !== -1) {\n        var max = this.options.selectedTextFormat.split('>');\n\n        if ((max.length > 1 && selectedItems.length > max[1]) || (max.length === 1 && selectedItems.length >= 2)) {\n          var totalCount = this.selectpicker.view.availableOptionsCount,\n              tr8nText = (typeof this.options.countSelectedText === 'function') ? this.options.countSelectedText(selectedItems.length, totalCount) : this.options.countSelectedText;\n\n          title = tr8nText.replace('{0}', selectedItems.length.toString()).replace('{1}', totalCount.toString());\n        }\n      }\n\n      if (this.options.title == undefined) {\n        this.options.title = this.$element[0].title;\n      }\n\n      if (this.options.selectedTextFormat == 'static') {\n        title = this.options.title;\n      }\n\n      //If we dont have a title, then use the default, or if nothing is set at all, use the not selected text\n      if (!title) {\n        title = typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText;\n      }\n\n      //strip all HTML tags and trim the result, then unescape any escaped tags\n      this.$button[0].title = htmlUnescape(title.replace(/<[^>]*>?/g, '').trim());\n      this.$button.find('.filter-option-inner-inner')[0].innerHTML = title;\n\n      this.$element.trigger('rendered.bs.select');\n    },\n\n    /**\n     * @param [style]\n     * @param [status]\n     */\n    setStyle: function (style, status) {\n      if (this.$element.attr('class')) {\n        this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|bs-select-hidden|validate\\[.*\\]/gi, ''));\n      }\n\n      var buttonClass = style ? style : this.options.style;\n\n      if (status == 'add') {\n        this.$button.addClass(buttonClass);\n      } else if (status == 'remove') {\n        this.$button.removeClass(buttonClass);\n      } else {\n        this.$button.removeClass(this.options.style);\n        this.$button.addClass(buttonClass);\n      }\n    },\n\n    liHeight: function (refresh) {\n      if (!refresh && (this.options.size === false || this.sizeInfo)) return;\n\n      if (!this.sizeInfo) this.sizeInfo = {};\n\n      var newElement = document.createElement('div'),\n          menu = document.createElement('div'),\n          menuInner = document.createElement('div'),\n          menuInnerInner = document.createElement('ul'),\n          divider = document.createElement('li'),\n          dropdownHeader = document.createElement('li'),\n          li = document.createElement('li'),\n          a = document.createElement('a'),\n          text = document.createElement('span'),\n          header = this.options.header && this.$menu.find('.' + classNames.POPOVERHEADER).length > 0 ? this.$menu.find('.' + classNames.POPOVERHEADER)[0].cloneNode(true) : null,\n          search = this.options.liveSearch ? document.createElement('div') : null,\n          actions = this.options.actionsBox && this.multiple && this.$menu.find('.bs-actionsbox').length > 0 ? this.$menu.find('.bs-actionsbox')[0].cloneNode(true) : null,\n          doneButton = this.options.doneButton && this.multiple && this.$menu.find('.bs-donebutton').length > 0 ? this.$menu.find('.bs-donebutton')[0].cloneNode(true) : null;\n\n      this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth;\n\n      text.className = 'text';\n      a.className = 'dropdown-item';\n      newElement.className = this.$menu[0].parentNode.className + ' ' + classNames.SHOW;\n      newElement.style.width = this.sizeInfo.selectWidth + 'px';\n      menu.className = 'dropdown-menu ' + classNames.SHOW;\n      menuInner.className = 'inner ' + classNames.SHOW;\n      menuInnerInner.className = 'dropdown-menu inner ' + (version.major === '4' ? classNames.SHOW : '');\n      divider.className = classNames.DIVIDER;\n      dropdownHeader.className = 'dropdown-header';\n\n      text.appendChild(document.createTextNode('Inner text'));\n      a.appendChild(text);\n      li.appendChild(a);\n      dropdownHeader.appendChild(text.cloneNode(true));\n\n      if (this.selectpicker.view.widestOption) {\n        menuInnerInner.appendChild(this.selectpicker.view.widestOption.cloneNode(true));\n      }\n\n      menuInnerInner.appendChild(li);\n      menuInnerInner.appendChild(divider);\n      menuInnerInner.appendChild(dropdownHeader);\n      if (header) menu.appendChild(header);\n      if (search) {\n        var input = document.createElement('input');\n        search.className = 'bs-searchbox';\n        input.className = 'form-control';\n        search.appendChild(input);\n        menu.appendChild(search);\n      }\n      if (actions) menu.appendChild(actions);\n      menuInner.appendChild(menuInnerInner);\n      menu.appendChild(menuInner);\n      if (doneButton) menu.appendChild(doneButton);\n      newElement.appendChild(menu);\n\n      document.body.appendChild(newElement);\n\n      var liHeight = a.offsetHeight,\n          dropdownHeaderHeight = dropdownHeader ? dropdownHeader.offsetHeight : 0,\n          headerHeight = header ? header.offsetHeight : 0,\n          searchHeight = search ? search.offsetHeight : 0,\n          actionsHeight = actions ? actions.offsetHeight : 0,\n          doneButtonHeight = doneButton ? doneButton.offsetHeight : 0,\n          dividerHeight = $(divider).outerHeight(true),\n          // fall back to jQuery if getComputedStyle is not supported\n          menuStyle = window.getComputedStyle ? window.getComputedStyle(menu) : false,\n          menuWidth = menu.offsetWidth,\n          $menu = menuStyle ? null : $(menu),\n          menuPadding = {\n            vert: toInteger(menuStyle ? menuStyle.paddingTop : $menu.css('paddingTop')) +\n                  toInteger(menuStyle ? menuStyle.paddingBottom : $menu.css('paddingBottom')) +\n                  toInteger(menuStyle ? menuStyle.borderTopWidth : $menu.css('borderTopWidth')) +\n                  toInteger(menuStyle ? menuStyle.borderBottomWidth : $menu.css('borderBottomWidth')),\n            horiz: toInteger(menuStyle ? menuStyle.paddingLeft : $menu.css('paddingLeft')) +\n                  toInteger(menuStyle ? menuStyle.paddingRight : $menu.css('paddingRight')) +\n                  toInteger(menuStyle ? menuStyle.borderLeftWidth : $menu.css('borderLeftWidth')) +\n                  toInteger(menuStyle ? menuStyle.borderRightWidth : $menu.css('borderRightWidth'))\n          },\n          menuExtras =  {\n            vert: menuPadding.vert +\n                  toInteger(menuStyle ? menuStyle.marginTop : $menu.css('marginTop')) +\n                  toInteger(menuStyle ? menuStyle.marginBottom : $menu.css('marginBottom')) + 2,\n            horiz: menuPadding.horiz +\n                  toInteger(menuStyle ? menuStyle.marginLeft : $menu.css('marginLeft')) +\n                  toInteger(menuStyle ? menuStyle.marginRight : $menu.css('marginRight')) + 2\n          },\n          scrollBarWidth;\n\n      menuInner.style.overflowY = 'scroll';\n\n      scrollBarWidth = menu.offsetWidth - menuWidth;\n\n      document.body.removeChild(newElement);\n\n      this.sizeInfo.liHeight = liHeight;\n      this.sizeInfo.dropdownHeaderHeight = dropdownHeaderHeight;\n      this.sizeInfo.headerHeight = headerHeight;\n      this.sizeInfo.searchHeight = searchHeight;\n      this.sizeInfo.actionsHeight = actionsHeight;\n      this.sizeInfo.doneButtonHeight = doneButtonHeight;\n      this.sizeInfo.dividerHeight = dividerHeight;\n      this.sizeInfo.menuPadding = menuPadding;\n      this.sizeInfo.menuExtras = menuExtras;\n      this.sizeInfo.menuWidth = menuWidth;\n      this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth;\n      this.sizeInfo.scrollBarWidth = scrollBarWidth;\n      this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight;\n\n      this.setPositionData();\n    },\n\n    getSelectPosition: function () {\n      var that = this,\n          $window = $(window),\n          pos = that.$newElement.offset(),\n          $container = $(that.options.container),\n          containerPos;\n\n      if (that.options.container && !$container.is('body')) {\n        containerPos = $container.offset();\n        containerPos.top += parseInt($container.css('borderTopWidth'));\n        containerPos.left += parseInt($container.css('borderLeftWidth'));\n      } else {\n        containerPos = { top: 0, left: 0 };\n      }\n\n      var winPad = that.options.windowPadding;\n\n      this.sizeInfo.selectOffsetTop = pos.top - containerPos.top - $window.scrollTop();\n      this.sizeInfo.selectOffsetBot = $window.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo['selectHeight'] - containerPos.top - winPad[2];\n      this.sizeInfo.selectOffsetLeft = pos.left - containerPos.left - $window.scrollLeft();\n      this.sizeInfo.selectOffsetRight = $window.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo['selectWidth'] - containerPos.left - winPad[1];\n      this.sizeInfo.selectOffsetTop -= winPad[0];\n      this.sizeInfo.selectOffsetLeft -= winPad[3];\n    },\n\n    setMenuSize: function (isAuto) {\n      this.getSelectPosition();\n\n      var selectWidth = this.sizeInfo['selectWidth'],\n          liHeight = this.sizeInfo['liHeight'],\n          headerHeight = this.sizeInfo['headerHeight'],\n          searchHeight = this.sizeInfo['searchHeight'],\n          actionsHeight = this.sizeInfo['actionsHeight'],\n          doneButtonHeight = this.sizeInfo['doneButtonHeight'],\n          divHeight = this.sizeInfo['dividerHeight'],\n          menuPadding = this.sizeInfo['menuPadding'],\n          menuInnerHeight,\n          menuHeight,\n          divLength = 0,\n          minHeight,\n          _minHeight,\n          maxHeight,\n          menuInnerMinHeight,\n          estimate;\n\n      if (this.options.dropupAuto) {\n        // Get the estimated height of the menu without scrollbars.\n        // This is useful for smaller menus, where there might be plenty of room\n        // below the button without setting dropup, but we can't know\n        // the exact height of the menu until createView is called later\n        estimate = liHeight * this.selectpicker.current.elements.length + menuPadding.vert;\n        this.$newElement.toggleClass(classNames.DROPUP, this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && estimate + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot);\n      }\n\n      if (this.options.size === 'auto') {\n        _minHeight = this.selectpicker.current.elements.length > 3 ? this.sizeInfo.liHeight * 3 + this.sizeInfo.menuExtras.vert - 2 : 0;\n        menuHeight = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert;\n        minHeight = _minHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n        menuInnerMinHeight = Math.max(_minHeight - menuPadding.vert, 0);\n\n        if (this.$newElement.hasClass(classNames.DROPUP)) {\n          menuHeight = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert;\n        }\n\n        maxHeight = menuHeight;\n        menuInnerHeight = menuHeight - headerHeight - searchHeight - actionsHeight - doneButtonHeight - menuPadding.vert;\n      } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n        for (var i = 0; i < this.options.size; i++) {\n          if (this.selectpicker.current.data[i].type === 'divider') divLength++;\n        }\n\n        menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding.vert;\n        menuInnerHeight = menuHeight - menuPadding.vert;\n        maxHeight = menuHeight + headerHeight + searchHeight + actionsHeight + doneButtonHeight;\n        minHeight = menuInnerMinHeight = '';\n      }\n\n      if (this.options.dropdownAlignRight === 'auto') {\n        this.$menu.toggleClass(classNames.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < (this.$menu[0].offsetWidth - selectWidth));\n      }\n\n      this.$menu.css({\n        'max-height': maxHeight + 'px',\n        'overflow': 'hidden',\n        'min-height': minHeight + 'px'\n      });\n\n      this.$menuInner.css({\n        'max-height': menuInnerHeight + 'px',\n        'overflow-y': 'auto',\n        'min-height': menuInnerMinHeight + 'px'\n      });\n\n      this.sizeInfo['menuInnerHeight'] = menuInnerHeight;\n\n      if (this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight) {\n        this.sizeInfo.hasScrollBar = true;\n        this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth;\n\n        this.$menu.css('min-width', this.sizeInfo.totalMenuWidth);\n      }\n\n      if (this.dropdown && this.dropdown._popper) this.dropdown._popper.update();\n    },\n\n    setSize: function (refresh) {\n      this.liHeight(refresh);\n\n      if (this.options.header) this.$menu.css('padding-top', 0);\n      if (this.options.size === false) return;\n\n      var that = this,\n          $window = $(window),\n          selectedIndex,\n          offset = 0;\n\n      this.setMenuSize();\n\n      if (this.options.size === 'auto') {\n        this.$searchbox.off('input.setMenuSize propertychange.setMenuSize').on('input.setMenuSize propertychange.setMenuSize', function() {\n          return that.setMenuSize();\n        });\n        $window.off('resize.setMenuSize scroll.setMenuSize').on('resize.setMenuSize scroll.setMenuSize', function() {\n          return that.setMenuSize();\n        });\n      } else if (this.options.size && this.options.size != 'auto' && this.selectpicker.current.elements.length > this.options.size) {\n        this.$searchbox.off('input.setMenuSize propertychange.setMenuSize');\n        $window.off('resize.setMenuSize scroll.setMenuSize');\n      }\n\n      if (refresh) {\n        offset = this.$menuInner[0].scrollTop;\n      } else if (!that.multiple) {\n        selectedIndex = that.selectpicker.main.map.newIndex[that.$element[0].selectedIndex];\n\n        if (typeof selectedIndex === 'number' && that.options.size !== false) {\n          offset = that.sizeInfo.liHeight * selectedIndex;\n          offset = offset - (that.sizeInfo.menuInnerHeight / 2) + (that.sizeInfo.liHeight / 2);\n        }\n      }\n\n      that.createView(false, offset);\n    },\n\n    setWidth: function () {\n      var that = this;\n\n      if (this.options.width === 'auto') {\n        requestAnimationFrame(function() {\n          that.$menu.css('min-width', '0');\n          that.liHeight();\n          that.setMenuSize();\n\n          // Get correct width if element is hidden\n          var $selectClone = that.$newElement.clone().appendTo('body'),\n              btnWidth = $selectClone.css('width', 'auto').children('button').outerWidth();\n\n          $selectClone.remove();\n\n          // Set width to whatever's larger, button title or longest option\n          that.sizeInfo.selectWidth = Math.max(that.sizeInfo.totalMenuWidth, btnWidth);\n          that.$newElement.css('width', that.sizeInfo.selectWidth + 'px');\n        });\n      } else if (this.options.width === 'fit') {\n        // Remove inline min-width so width can be changed from 'auto'\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', '').addClass('fit-width');\n      } else if (this.options.width) {\n        // Remove inline min-width so width can be changed from 'auto'\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', this.options.width);\n      } else {\n        // Remove inline min-width/width so width can be changed\n        this.$menu.css('min-width', '');\n        this.$newElement.css('width', '');\n      }\n      // Remove fit-width class if width is changed programmatically\n      if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {\n        this.$newElement.removeClass('fit-width');\n      }\n    },\n\n    selectPosition: function () {\n      this.$bsContainer = $('<div class=\"bs-container\" />');\n\n      var that = this,\n          $container = $(this.options.container),\n          pos,\n          containerPos,\n          actualHeight,\n          getPlacement = function ($element) {\n            var containerPosition = {};\n\n            that.$bsContainer.addClass($element.attr('class').replace(/form-control|fit-width/gi, '')).toggleClass(classNames.DROPUP, $element.hasClass(classNames.DROPUP));\n            pos = $element.offset();\n\n            if (!$container.is('body')) {\n              containerPos = $container.offset();\n              containerPos.top += parseInt($container.css('borderTopWidth')) - $container.scrollTop();\n              containerPos.left += parseInt($container.css('borderLeftWidth')) - $container.scrollLeft();\n            } else {\n              containerPos = { top: 0, left: 0 };\n            }\n\n            actualHeight = $element.hasClass(classNames.DROPUP) ? 0 : $element[0].offsetHeight;\n\n            // Bootstrap 4+ uses Popper for menu positioning\n            if (version.major < 4) {\n              containerPosition['top'] = pos.top - containerPos.top + actualHeight;\n              containerPosition['left'] = pos.left - containerPos.left;\n            }\n\n            containerPosition['width'] = $element[0].offsetWidth;\n\n            that.$bsContainer.css(containerPosition);\n          };\n\n      this.$button.on('click.bs.dropdown.data-api', function () {\n        if (that.isDisabled()) {\n          return;\n        }\n\n        getPlacement(that.$newElement);\n\n        that.$bsContainer\n          .appendTo(that.options.container)\n          .toggleClass(classNames.SHOW, !that.$button.hasClass(classNames.SHOW))\n          .append(that.$menu);\n      });\n\n      $(window).on('resize scroll', function () {\n        getPlacement(that.$newElement);\n      });\n\n      this.$element.on('hide.bs.select', function () {\n        that.$menu.data('height', that.$menu.height());\n        that.$bsContainer.detach();\n      });\n    },\n\n    setOptionStatus: function () {\n      var that = this,\n          $selectOptions = this.$element.find('option');\n\n      that.noScroll = false;\n\n      if (that.selectpicker.view.visibleElements && that.selectpicker.view.visibleElements.length) {\n        for (var i = 0; i < that.selectpicker.view.visibleElements.length; i++) {\n          var index = that.selectpicker.current.map.originalIndex[i + that.selectpicker.view.position0], // faster than $(li).data('originalIndex')\n              option = $selectOptions[index];\n\n          if (option) {\n            var liIndex = this.selectpicker.main.map.newIndex[index],\n                li = this.selectpicker.main.elements[liIndex];\n\n            that.setDisabled(\n              index,\n              option.disabled || option.parentNode.tagName === 'OPTGROUP' && option.parentNode.disabled,\n              liIndex,\n              li\n            );\n\n            that.setSelected(\n              index,\n              option.selected,\n              liIndex,\n              li\n            );\n          }\n        }\n      }\n    },\n\n    /**\n     * @param {number} index - the index of the option that is being changed\n     * @param {boolean} selected - true if the option is being selected, false if being deselected\n     */\n    setSelected: function (index, selected, liIndex, li) {\n      var activeIndexIsSet = this.activeIndex !== undefined,\n          thisIsActive = this.activeIndex === index,\n          prevActiveIndex,\n          prevActive,\n          a,\n          // if current option is already active\n          // OR\n          // if the current option is being selected, it's NOT multiple, and\n          // activeIndex is undefined:\n          //  - when the menu is first being opened, OR\n          //  - after a search has been performed, OR\n          //  - when retainActive is false when selecting a new option (i.e. index of the newly selected option is not the same as the current activeIndex)\n          keepActive = thisIsActive || selected && !this.multiple && !activeIndexIsSet;\n\n      if (!liIndex) liIndex = this.selectpicker.main.map.newIndex[index];\n      if (!li) li = this.selectpicker.main.elements[liIndex];\n\n      a = li.firstChild;\n\n      if (selected) {\n        this.selectedIndex = index;\n      }\n\n      li.classList.toggle('selected', selected);\n      li.classList.toggle('active', keepActive);\n\n      if (keepActive) {\n        this.selectpicker.view.currentActive = li;\n        this.activeIndex = index;\n      }\n\n      if (a) {\n        a.classList.toggle('selected', selected);\n        a.classList.toggle('active', keepActive);\n        a.setAttribute('aria-selected', selected);\n      }\n\n      if (!keepActive) {\n        if (!activeIndexIsSet && selected && this.prevActiveIndex !== undefined) {\n          prevActiveIndex = this.selectpicker.main.map.newIndex[this.prevActiveIndex];\n          prevActive = this.selectpicker.main.elements[prevActiveIndex];\n\n          prevActive.classList.remove('selected');\n          prevActive.classList.remove('active');\n          if (prevActive.firstChild) {\n            prevActive.firstChild.classList.remove('selected');\n            prevActive.firstChild.classList.remove('active');\n          }\n        }\n      }\n    },\n\n    /**\n     * @param {number} index - the index of the option that is being disabled\n     * @param {boolean} disabled - true if the option is being disabled, false if being enabled\n     */\n    setDisabled: function (index, disabled, liIndex, li) {\n      var a;\n\n      if (!liIndex) liIndex = this.selectpicker.main.map.newIndex[index];\n      if (!li) li = this.selectpicker.main.elements[liIndex];\n\n      a = li.firstChild;\n\n      li.classList.toggle(classNames.DISABLED, disabled);\n\n      if (a) {\n        if (version.major === '4') a.classList.toggle(classNames.DISABLED, disabled);\n\n        a.setAttribute('aria-disabled', disabled);\n\n        if (disabled) {\n          a.setAttribute('tabindex', -1);\n        } else {\n          a.setAttribute('tabindex', 0);\n        }\n      }\n    },\n\n    isDisabled: function () {\n      return this.$element[0].disabled;\n    },\n\n    checkDisabled: function () {\n      var that = this;\n\n      if (this.isDisabled()) {\n        this.$newElement.addClass(classNames.DISABLED);\n        this.$button.addClass(classNames.DISABLED).attr('tabindex', -1).attr('aria-disabled', true);\n      } else {\n        if (this.$button.hasClass(classNames.DISABLED)) {\n          this.$newElement.removeClass(classNames.DISABLED);\n          this.$button.removeClass(classNames.DISABLED).attr('aria-disabled', false);\n        }\n\n        if (this.$button.attr('tabindex') == -1 && !this.$element.data('tabindex')) {\n          this.$button.removeAttr('tabindex');\n        }\n      }\n\n      this.$button.click(function () {\n        return !that.isDisabled();\n      });\n    },\n\n    togglePlaceholder: function () {\n      // much faster than calling $.val()\n      var element = this.$element[0],\n          selectedIndex = element.selectedIndex,\n          nothingSelected = selectedIndex === -1;\n\n      if (!nothingSelected && !element.options[selectedIndex].value) nothingSelected = true;\n\n      this.$button.toggleClass('bs-placeholder', nothingSelected);\n    },\n\n    tabIndex: function () {\n      if (this.$element.data('tabindex') !== this.$element.attr('tabindex') && \n        (this.$element.attr('tabindex') !== -98 && this.$element.attr('tabindex') !== '-98')) {\n        this.$element.data('tabindex', this.$element.attr('tabindex'));\n        this.$button.attr('tabindex', this.$element.data('tabindex'));\n      }\n\n      this.$element.attr('tabindex', -98);\n    },\n\n    clickListener: function () {\n      var that = this,\n          $document = $(document);\n\n      $document.data('spaceSelect', false);\n\n      this.$button.on('keyup', function (e) {\n        if (/(32)/.test(e.keyCode.toString(10)) && $document.data('spaceSelect')) {\n            e.preventDefault();\n            $document.data('spaceSelect', false);\n        }\n      });\n\n      this.$newElement.on('show.bs.dropdown', function() {\n        if (version.major > 3 && !that.dropdown) {\n          that.dropdown = that.$button.data('bs.dropdown');\n          that.dropdown._menu = that.$menu[0];\n        }\n      });\n\n      this.$button.on('click.bs.dropdown.data-api', function () {\n        if (!that.$newElement.hasClass(classNames.SHOW)) {\n          that.setSize();\n        }\n      });\n\n      this.$element.on('shown.bs.select', function () {\n        if (that.$menuInner[0].scrollTop !== that.selectpicker.view.scrollTop) {\n          that.$menuInner[0].scrollTop = that.selectpicker.view.scrollTop;\n        }\n\n        if (that.options.liveSearch) {\n          that.$searchbox.focus();\n        } else {\n          that.$menuInner.focus();\n        }\n      });\n\n      this.$menuInner.on('click', 'li a', function (e, retainActive) {\n        var $this = $(this),\n            position0 = that.isVirtual() ? that.selectpicker.view.position0 : 0,\n            clickedIndex = that.selectpicker.current.map.originalIndex[$this.parent().index() + position0],\n            prevValue = getSelectValues(that.$element[0]),\n            prevIndex = that.$element.prop('selectedIndex'),\n            triggerChange = true;\n\n        // Don't close on multi choice menu\n        if (that.multiple && that.options.maxOptions !== 1) {\n          e.stopPropagation();\n        }\n\n        e.preventDefault();\n\n        //Don't run if we have been disabled\n        if (!that.isDisabled() && !$this.parent().hasClass(classNames.DISABLED)) {\n          var $options = that.$element.find('option'),\n              $option = $options.eq(clickedIndex),\n              state = $option.prop('selected'),\n              $optgroup = $option.parent('optgroup'),\n              maxOptions = that.options.maxOptions,\n              maxOptionsGrp = $optgroup.data('maxOptions') || false;\n              \n          if (clickedIndex === that.activeIndex) retainActive = true;\n\n          if (!retainActive) {\n            that.prevActiveIndex = that.activeIndex;\n            that.activeIndex = undefined;\n          }\n\n          if (!that.multiple) { // Deselect all others if not multi select box\n            $options.prop('selected', false);\n            $option.prop('selected', true);\n            that.setSelected(clickedIndex, true);\n          } else { // Toggle the one we have chosen if we are multi select.\n            $option.prop('selected', !state);\n\n            that.setSelected(clickedIndex, !state);\n            $this.blur();\n\n            if (maxOptions !== false || maxOptionsGrp !== false) {\n              var maxReached = maxOptions < $options.filter(':selected').length,\n                  maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;\n\n              if ((maxOptions && maxReached) || (maxOptionsGrp && maxReachedGrp)) {\n                if (maxOptions && maxOptions == 1) {\n                  $options.prop('selected', false);\n                  $option.prop('selected', true);\n                  that.$menuInner.find('.selected').removeClass('selected');\n                  that.setSelected(clickedIndex, true);\n                } else if (maxOptionsGrp && maxOptionsGrp == 1) {\n                  $optgroup.find('option:selected').prop('selected', false);\n                  $option.prop('selected', true);\n                  var optgroupID = that.selectpicker.current.data[$this.parent().index() + that.selectpicker.view.position0].optID;\n                  that.$menuInner.find('.optgroup-' + optgroupID).removeClass('selected');\n                  that.setSelected(clickedIndex, true);\n                } else {\n                  var maxOptionsText = typeof that.options.maxOptionsText === 'string' ? [that.options.maxOptionsText, that.options.maxOptionsText] : that.options.maxOptionsText,\n                      maxOptionsArr = typeof maxOptionsText === 'function' ? maxOptionsText(maxOptions, maxOptionsGrp) : maxOptionsText,\n                      maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),\n                      maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),\n                      $notify = $('<div class=\"notify\"></div>');\n                  // If {var} is set in array, replace it\n                  /** @deprecated */\n                  if (maxOptionsArr[2]) {\n                    maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);\n                    maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);\n                  }\n\n                  $option.prop('selected', false);\n\n                  that.$menu.append($notify);\n\n                  if (maxOptions && maxReached) {\n                    $notify.append($('<div>' + maxTxt + '</div>'));\n                    triggerChange = false;\n                    that.$element.trigger('maxReached.bs.select');\n                  }\n\n                  if (maxOptionsGrp && maxReachedGrp) {\n                    $notify.append($('<div>' + maxTxtGrp + '</div>'));\n                    triggerChange = false;\n                    that.$element.trigger('maxReachedGrp.bs.select');\n                  }\n\n                  setTimeout(function () {\n                    that.setSelected(clickedIndex, false);\n                  }, 10);\n\n                  $notify.delay(750).fadeOut(300, function () {\n                    $(this).remove();\n                  });\n                }\n              }\n            }\n          }\n\n          if (!that.multiple || (that.multiple && that.options.maxOptions === 1)) {\n            that.$button.focus();\n          } else if (that.options.liveSearch) {\n            that.$searchbox.focus();\n          }\n\n          // Trigger select 'change'\n          if (triggerChange) {\n            if ((prevValue != getSelectValues(that.$element[0]) && that.multiple) || (prevIndex != that.$element.prop('selectedIndex') && !that.multiple)) {\n              // $option.prop('selected') is current option state (selected/unselected). prevValue is the value of the select prior to being changed.\n              changed_arguments = [clickedIndex, $option.prop('selected'), prevValue];\n              that.$element\n                .triggerNative('change');\n            }\n          }\n        }\n      });\n\n      this.$menu.on('click', 'li.' + classNames.DISABLED + ' a, .' + classNames.POPOVERHEADER + ', .' + classNames.POPOVERHEADER + ' :not(.close)', function (e) {\n        if (e.currentTarget == this) {\n          e.preventDefault();\n          e.stopPropagation();\n          if (that.options.liveSearch && !$(e.target).hasClass('close')) {\n            that.$searchbox.focus();\n          } else {\n            that.$button.focus();\n          }\n        }\n      });\n\n      this.$menuInner.on('click', '.divider, .dropdown-header', function (e) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (that.options.liveSearch) {\n          that.$searchbox.focus();\n        } else {\n          that.$button.focus();\n        }\n      });\n\n      this.$menu.on('click', '.' + classNames.POPOVERHEADER + ' .close', function () {\n        that.$button.click();\n      });\n\n      this.$searchbox.on('click', function (e) {\n        e.stopPropagation();\n      });\n\n      this.$menu.on('click', '.actions-btn', function (e) {\n        if (that.options.liveSearch) {\n          that.$searchbox.focus();\n        } else {\n          that.$button.focus();\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n\n        if ($(this).hasClass('bs-select-all')) {\n          that.selectAll();\n        } else {\n          that.deselectAll();\n        }\n      });\n\n      this.$element.on({\n        'change': function () {\n          that.render();\n          that.$element.trigger('changed.bs.select', changed_arguments);\n          changed_arguments = null;\n        },\n        'focus': function () {\n          that.$button.focus();\n        }\n      });\n    },\n\n    liveSearchListener: function () {\n      var that = this,\n          no_results = document.createElement('li');\n\n      this.$button.on('click.bs.dropdown.data-api', function () {\n        if (!!that.$searchbox.val()) {\n          that.$searchbox.val('');\n        }\n      });\n\n      this.$searchbox.on('click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api', function (e) {\n        e.stopPropagation();\n      });\n\n      this.$searchbox.on('input propertychange', function () {\n        var searchValue = that.$searchbox.val();\n        \n        that.selectpicker.search.map.newIndex = {};\n        that.selectpicker.search.map.originalIndex = {};\n        that.selectpicker.search.elements = [];\n        that.selectpicker.search.data = [];\n\n        if (searchValue) {\n          var i,\n              searchMatch = [],\n              q = searchValue.toUpperCase(),\n              cache = {},\n              cacheArr = [],\n              searchStyle = that._searchStyle(),\n              normalizeSearch = that.options.liveSearchNormalize;\n\n          that._$lisSelected = that.$menuInner.find('.selected');\n\n          for (var i = 0; i < that.selectpicker.main.data.length; i++) {\n            var li = that.selectpicker.main.data[i];\n\n            if (!cache[i]) {\n              cache[i] = stringSearch(li, q, searchStyle, normalizeSearch);\n            }\n\n            if (cache[i] && li.headerIndex !== undefined && cacheArr.indexOf(li.headerIndex) === -1) {\n              if (li.headerIndex > 0) {\n                cache[li.headerIndex - 1] = true;\n                cacheArr.push(li.headerIndex - 1);\n              }\n\n              cache[li.headerIndex] = true;\n              cacheArr.push(li.headerIndex);\n              \n              cache[li.lastIndex + 1] = true;\n            }\n\n            if (cache[i] && li.type !== 'optgroup-label') cacheArr.push(i);\n          }\n\n          for (var i = 0, cacheLen = cacheArr.length; i < cacheLen; i++) {\n            var index = cacheArr[i],\n                prevIndex = cacheArr[i - 1],\n                li = that.selectpicker.main.data[index],\n                liPrev = that.selectpicker.main.data[prevIndex];\n                \n            if ( li.type !== 'divider' || ( li.type === 'divider' && liPrev && liPrev.type !== 'divider' && cacheLen - 1 !== i ) ) {\n              that.selectpicker.search.data.push(li);\n              searchMatch.push(that.selectpicker.main.elements[index]);\n              that.selectpicker.search.map.newIndex[li.originalIndex] = searchMatch.length - 1;\n              that.selectpicker.search.map.originalIndex[searchMatch.length - 1] = li.originalIndex;\n            }\n          }\n\n          that.activeIndex = undefined;\n          that.noScroll = true;\n          that.$menuInner.scrollTop(0);\n          that.selectpicker.search.elements = searchMatch;\n          that.createView(true);\n\n          if (!searchMatch.length) {\n            no_results.className = 'no-results';\n            no_results.innerHTML = that.options.noneResultsText.replace('{0}', '\"' + htmlEscape(searchValue) + '\"');\n            that.$menuInner[0].firstChild.appendChild(no_results);\n          }\n        } else {\n          that.$menuInner.scrollTop(0);\n          that.createView(false);\n        }\n      });\n    },\n\n    _searchStyle: function () {\n      return this.options.liveSearchStyle || 'contains';\n    },\n\n    val: function (value) {\n      if (typeof value !== 'undefined') {\n        this.$element\n          .val(value)\n          .triggerNative('change');\n\n        return this.$element;\n      } else {\n        return this.$element.val();\n      }\n    },\n\n    changeAll: function (status) {\n      if (!this.multiple) return;\n      if (typeof status === 'undefined') status = true;\n\n      var $selectOptions = this.$element.find('option'),\n          previousSelected = 0,\n          currentSelected = 0,\n          prevValue = getSelectValues(this.$element[0]);\n\n      this.$element.addClass('bs-select-hidden');\n\n      for (var i = 0; i < this.selectpicker.current.elements.length; i++) {\n        var index = this.selectpicker.current.map.originalIndex[i], // faster than $(li).data('originalIndex')\n            option = $selectOptions[index];\n\n        if (option) {\n          if (option.selected) previousSelected++;\n          option.selected = status;\n          if (option.selected) currentSelected++;\n        }\n      }\n\n      this.$element.removeClass('bs-select-hidden');\n\n      if (previousSelected === currentSelected) return;\n\n      this.setOptionStatus();\n\n      this.togglePlaceholder();\n\n      changed_arguments = [null, null, prevValue];\n\n      this.$element\n        .triggerNative('change');\n    },\n\n    selectAll: function () {\n      return this.changeAll(true);\n    },\n\n    deselectAll: function () {\n      return this.changeAll(false);\n    },\n\n    toggle: function (e) {\n      e = e || window.event;\n\n      if (e) e.stopPropagation();\n\n      this.$button.trigger('click.bs.dropdown.data-api');\n    },\n\n    keydown: function (e) {\n      var $this = $(this),\n          $parent = $this.is('input') ? $this.parent().parent() : $this.parent(),\n          that = $parent.data('this'),\n          $items = that.findLis(),\n          index,\n          isActive,\n          liActive,\n          activeLi,\n          offset,\n          updateScroll = false,\n          downOnTab = e.which === keyCodes.TAB && !$this.hasClass('dropdown-toggle') && !that.options.selectOnTab,\n          isArrowKey = REGEXP_ARROW.test(e.which) || downOnTab,\n          scrollTop = that.$menuInner[0].scrollTop,\n          isVirtual = that.isVirtual(),\n          position0 = isVirtual === true ? that.selectpicker.view.position0 : 0;\n\n      isActive = that.$newElement.hasClass(classNames.SHOW);\n\n      if (\n        !isActive &&\n        (\n          isArrowKey ||\n          e.which >= 48 && e.which <= 57 ||\n          e.which >= 96 && e.which <= 105 ||\n          e.which >= 65 && e.which <= 90\n        )\n      ) {\n        that.$button.trigger('click.bs.dropdown.data-api');\n      }\n\n      if (e.which === keyCodes.ESCAPE && isActive) {\n        e.preventDefault();\n        that.$button.trigger('click.bs.dropdown.data-api').focus();\n      }\n\n      if (isArrowKey) { // if up or down\n        if (!$items.length) return;\n\n        // $items.index/.filter is too slow with a large list and no virtual scroll\n        index = isVirtual === true ? $items.index($items.filter('.active')) : that.selectpicker.current.map.newIndex[that.activeIndex];\n\n        if (index === undefined) index = -1;\n\n        if (index !== -1) {\n          liActive = that.selectpicker.current.elements[index + position0];\n          liActive.classList.remove('active');\n          if (liActive.firstChild) liActive.firstChild.classList.remove('active');\n        }\n\n        if (e.which === keyCodes.ARROW_UP) { // up\n          if (index !== -1) index--;\n          if (index + position0 < 0) index += $items.length;\n\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\n            index = that.selectpicker.view.canHighlight.slice(0, index + position0).lastIndexOf(true) - position0;\n            if (index === -1) index = $items.length - 1;\n          }\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\n          index++;\n          if (index + position0 >= that.selectpicker.view.canHighlight.length) index = 0;\n\n          if (!that.selectpicker.view.canHighlight[index + position0]) {\n            index = index + 1 + that.selectpicker.view.canHighlight.slice(index + position0 + 1).indexOf(true);\n          }\n        }\n\n        e.preventDefault();\n\n        var liActiveIndex = position0 + index;\n\n        if (e.which === keyCodes.ARROW_UP) { // up\n          // scroll to bottom and highlight last option\n          if (position0 === 0 && index === $items.length - 1) {\n            that.$menuInner[0].scrollTop = that.$menuInner[0].scrollHeight;\n\n            liActiveIndex = that.selectpicker.current.elements.length - 1;\n          } else {\n            activeLi = that.selectpicker.current.data[liActiveIndex];\n            offset = activeLi.position - activeLi.height;\n\n            updateScroll = offset < scrollTop;\n          }\n        } else if (e.which === keyCodes.ARROW_DOWN || downOnTab) { // down\n          // scroll to top and highlight first option\n          if (position0 !== 0 && index === 0) {\n            that.$menuInner[0].scrollTop = 0;\n\n            liActiveIndex = 0;\n          } else {\n            activeLi = that.selectpicker.current.data[liActiveIndex];\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n\n            updateScroll = offset > scrollTop;\n          }\n        }\n\n        liActive = that.selectpicker.current.elements[liActiveIndex];\n        liActive.classList.add('active');\n        if (liActive.firstChild) liActive.firstChild.classList.add('active');\n        that.activeIndex = that.selectpicker.current.map.originalIndex[liActiveIndex];\n\n        that.selectpicker.view.currentActive = liActive;\n\n        if (updateScroll) that.$menuInner[0].scrollTop = offset;\n\n        if (that.options.liveSearch) {\n          that.$searchbox.focus();\n        } else {\n          $this.focus();\n        }\n      } else if (\n        !$this.is('input') &&\n        !REGEXP_TAB_OR_ESCAPE.test(e.which) ||\n        (e.which === keyCodes.SPACE && that.selectpicker.keydown.keyHistory)\n      ) {\n        var searchMatch,\n            matches = [],\n            keyHistory;\n\n        e.preventDefault();\n\n        that.selectpicker.keydown.keyHistory += keyCodeMap[e.which];\n\n        if (that.selectpicker.keydown.resetKeyHistory.cancel) clearTimeout(that.selectpicker.keydown.resetKeyHistory.cancel);\n        that.selectpicker.keydown.resetKeyHistory.cancel = that.selectpicker.keydown.resetKeyHistory.start();\n\n        keyHistory = that.selectpicker.keydown.keyHistory;\n\n        // if all letters are the same, set keyHistory to just the first character when searching\n        if (/^(.)\\1+$/.test(keyHistory)) {\n          keyHistory = keyHistory.charAt(0);\n        }\n\n        // find matches\n        for (var i = 0; i < that.selectpicker.current.data.length; i++) {\n          var li = that.selectpicker.current.data[i],\n              hasMatch;\n\n          hasMatch = stringSearch(li, keyHistory, 'startsWith', true);\n\n          if (hasMatch && that.selectpicker.view.canHighlight[i]) {\n            li.index = i;\n            matches.push(li.originalIndex);\n          }\n        }\n\n        if (matches.length) {\n          var matchIndex = 0;\n\n          $items.removeClass('active').find('a').removeClass('active');\n\n          // either only one key has been pressed or they are all the same key\n          if (keyHistory.length === 1) {\n            matchIndex = matches.indexOf(that.activeIndex);\n\n            if (matchIndex === -1 || matchIndex === matches.length - 1) {\n              matchIndex = 0;\n            } else {\n              matchIndex++;\n            }\n          }\n\n          searchMatch = that.selectpicker.current.map.newIndex[matches[matchIndex]];\n\n          activeLi = that.selectpicker.current.data[searchMatch];\n\n          if (scrollTop - activeLi.position > 0) {\n            offset = activeLi.position - activeLi.height;\n            updateScroll = true;\n          } else {\n            offset = activeLi.position - that.sizeInfo.menuInnerHeight;\n            // if the option is already visible at the current scroll position, just keep it the same\n            updateScroll = activeLi.position > scrollTop + that.sizeInfo.menuInnerHeight;         \n          }\n\n          liActive = that.selectpicker.current.elements[searchMatch];\n          liActive.classList.add('active');\n          if (liActive.firstChild) liActive.firstChild.classList.add('active');\n          that.activeIndex = matches[matchIndex];\n\n          liActive.firstChild.focus();\n\n          if (updateScroll) that.$menuInner[0].scrollTop = offset;\n\n          $this.focus();\n        }\n      }\n\n      // Select focused option if \"Enter\", \"Spacebar\" or \"Tab\" (when selectOnTab is true) are pressed inside the menu.\n      if (\n        isActive &&\n        (\n          (e.which === keyCodes.SPACE && !that.selectpicker.keydown.keyHistory) ||\n          e.which === keyCodes.ENTER ||\n          (e.which === keyCodes.TAB && that.options.selectOnTab)\n        )\n      ) {\n        if (e.which !== keyCodes.SPACE) e.preventDefault();\n\n        if (!that.options.liveSearch || e.which !== keyCodes.SPACE) {\n          that.$menuInner.find('.active a').trigger('click', true); // retain active class\n          $this.focus();\n\n          if (!that.options.liveSearch) {\n            // Prevent screen from scrolling if the user hits the spacebar\n            e.preventDefault();\n            // Fixes spacebar selection of dropdown items in FF & IE\n            $(document).data('spaceSelect', true);\n          }\n        }\n      }\n    },\n\n    mobile: function () {\n      this.$element.addClass('mobile-device');\n    },\n\n    refresh: function () {\n      // update options if data attributes have been changed\n      var config = $.extend({}, this.options, this.$element.data());\n      this.options = config;\n\n      this.selectpicker.main.map.newIndex = {};\n      this.selectpicker.main.map.originalIndex = {};\n      this.createLi();\n      this.checkDisabled();\n      this.render();\n      this.setStyle();\n      this.setWidth();\n\n      this.setSize(true);\n\n      this.$element.trigger('refreshed.bs.select');\n    },\n\n    hide: function () {\n      this.$newElement.hide();\n    },\n\n    show: function () {\n      this.$newElement.show();\n    },\n\n    remove: function () {\n      this.$newElement.remove();\n      this.$element.remove();\n    },\n\n    destroy: function () {\n      this.$newElement.before(this.$element).remove();\n\n      if (this.$bsContainer) {\n        this.$bsContainer.remove();\n      } else {\n        this.$menu.remove();\n      }\n\n      this.$element\n        .off('.bs.select')\n        .removeData('selectpicker')\n        .removeClass('bs-select-hidden selectpicker');\n    }\n  };\n\n  // SELECTPICKER PLUGIN DEFINITION\n  // ==============================\n  function Plugin(option) {\n    // get the args of the outer function..\n    var args = arguments;\n    // The arguments of the function are explicitly re-defined from the argument list, because the shift causes them\n    // to get lost/corrupted in android 2.3 and IE9 #715 #775\n    var _option = option;\n\n    [].shift.apply(args);\n\n    var value;\n    var chain = this.each(function () {\n      var $this = $(this);\n      if ($this.is('select')) {\n        var data = $this.data('selectpicker'),\n            options = typeof _option == 'object' && _option;\n\n        if (!data) {\n          var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, $this.data(), options);\n          config.template = $.extend({}, Selectpicker.DEFAULTS.template, ($.fn.selectpicker.defaults ? $.fn.selectpicker.defaults.template : {}), $this.data().template, options.template);\n          $this.data('selectpicker', (data = new Selectpicker(this, config)));\n        } else if (options) {\n          for (var i in options) {\n            if (options.hasOwnProperty(i)) {\n              data.options[i] = options[i];\n            }\n          }\n        }\n\n        if (typeof _option == 'string') {\n          if (data[_option] instanceof Function) {\n            value = data[_option].apply(data, args);\n          } else {\n            value = data.options[_option];\n          }\n        }\n      }\n    });\n\n    if (typeof value !== 'undefined') {\n      //noinspection JSUnusedAssignment\n      return value;\n    } else {\n      return chain;\n    }\n  }\n\n  var old = $.fn.selectpicker;\n  $.fn.selectpicker = Plugin;\n  $.fn.selectpicker.Constructor = Selectpicker;\n\n  // SELECTPICKER NO CONFLICT\n  // ========================\n  $.fn.selectpicker.noConflict = function () {\n    $.fn.selectpicker = old;\n    return this;\n  };\n\n  $(document)\n      .off('keydown.bs.dropdown.data-api')\n      .on('keydown.bs.select', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bs-searchbox input', Selectpicker.prototype.keydown)\n      .on('focusin.modal', '.bootstrap-select [data-toggle=\"dropdown\"], .bootstrap-select [role=\"listbox\"], .bs-searchbox input', function (e) {\n        e.stopPropagation();\n      });\n\n  // SELECTPICKER DATA-API\n  // =====================\n  $(window).on('load.bs.select.data-api', function () {\n    $('.selectpicker').each(function () {\n      var $selectpicker = $(this);\n      Plugin.call($selectpicker, $selectpicker.data());\n    })\n  });\n})(jQuery);\n"]}